(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{587:function(t,s,r){"use strict";r.r(s);var n=r(13),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"代码共享方案"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#代码共享方案"}},[t._v("#")]),t._v(" 代码共享方案")]),t._v(" "),r("ul",[r("li",[t._v("使用一个"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("专业的工具来管理我们的代码")]),t._v(" "),r("ul",[r("li",[t._v("通过"),r("font",{attrs:{color:"orange"}},[t._v("工具将代码发布到特定的位置")])],1),t._v(" "),r("li",[t._v("其他程序员直接"),r("font",{attrs:{color:"orange"}},[t._v("通过工具来安装、升级、删除我们的工具代码")]),t._v("；")],1)])],1)]),t._v(" "),r("h2",{attrs:{id:"npm-包管理工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#npm-包管理工具"}},[t._v("#")]),t._v(" npm 包管理工具")]),t._v(" "),r("ul",[r("li",[t._v("包管理工具npm：\n"),r("ul",[r("li",[t._v("也就是"),r("font",{attrs:{color:"orange"}},[t._v("Node包管理器")]),t._v("；")],1)])]),t._v(" "),r("li",[t._v("如何下载和安装npm工具呢？\n"),r("ul",[r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v(" npm属于node的一个管理工具 ")]),t._v("，所以我们需要"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("先安装Node")]),t._v("；")],1),t._v(" "),r("li",[t._v("node管理工具：https://nodejs.org/en/，安装Node的过程会自动安装npm工具；")])])]),t._v(" "),r("li",[t._v("npm管理的包可以在哪里查看、搜索呢？\n"),r("ul",[r("li",[t._v("https://www.npmjs.org/")]),t._v(" "),r("li",[t._v("这是我们安装相关的"),r("font",{attrs:{color:"orange"}},[t._v("npm包的官网")]),t._v("；")],1)])]),t._v(" "),r("li",[t._v("npm管理的包存放在哪里呢？\n"),r("ul",[r("li",[t._v("我们发布自己的包其实是"),r("font",{attrs:{color:"orange"}},[t._v("发布到registry上面")]),t._v("的；")],1),t._v(" "),r("li",[t._v("当我们安装一个包时"),r("font",{attrs:{color:"orange"}},[t._v("其实是从registry上面下载的包")]),t._v("；")],1)])])]),t._v(" "),r("h2",{attrs:{id:"package配置文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#package配置文件"}},[t._v("#")]),t._v(" package配置文件")]),t._v(" "),r("ul",[r("li",[t._v("那么对于一个项目来说，我们如何使用npm来管理这么多包呢？\n"),r("ul",[r("li",[t._v("事实上，我们每一个"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("项目都会有一个对应的配置文件")]),t._v("，无论是前端项目（Vue、React）还是后端项目（Node）；")],1),t._v(" "),r("li",[t._v("这个配置文件会记录着你"),r("font",{attrs:{color:"orange"}},[t._v("项目的名称、版本号、项目描述等")]),t._v("；")],1),t._v(" "),r("li",[t._v("也会"),r("font",{attrs:{color:"orange"}},[t._v("记录着你项目所依赖的其他库的信息和依赖库的版本号")]),t._v("；")],1)])]),t._v(" "),r("li",[t._v("这个"),r("font",{attrs:{color:"orange"}},[t._v("配置文件就是 package.json")])],1),t._v(" "),r("li",[t._v("那么这个配置文件如何得到呢？\n"),r("ul",[r("li",[t._v("方式一：手动从零创建项目，"),r("font",{attrs:{color:"orange"}},[r("strong",[t._v("npm init –y")])])],1),t._v(" "),r("li",[t._v("方式二："),r("font",{attrs:{color:"orange"}},[r("strong",[t._v("通过脚手架创建项目")])]),t._v("，脚手架会帮助我们生成package.json，并且里面有相关的配置")],1)])])]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"version"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"description"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"main"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.js"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"test"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"echo \\"Error: no test specified\\" && exit 1"')]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"author"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"license"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ISC"')]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br")])]),r("h3",{attrs:{id:"常见的属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#常见的属性"}},[t._v("#")]),t._v(" 常见的属性")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("必须填写的属性 ："),r("strong",[t._v("name、 version")])]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("name")]),t._v("是项目的名称")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("version")]),t._v("是当前项目的版本号")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("description")]),t._v("是描述信息，很多时候是作为项目的基本描述；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("author")]),t._v("是作者相关信息（发布时用到）；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("license")]),t._v("是开源协议（发布时用到）；")],1)])],1),t._v(" "),r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v(" private属性：")]),t._v(" "),r("ul",[r("li",[t._v("private属性记录"),r("font",{attrs:{color:"orange"}},[t._v("当前的项目是否是私有")]),t._v("的；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("当值为true时，npm是不能发布它的")]),t._v("，这是防止私有项目或模块发布出去的方式；")],1)])],1)]),t._v(" "),r("p",[r("strong",[r("font",{attrs:{color:"red"}},[t._v("常见属性 - main属性")])],1)]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("main 属性")])]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("设置程序的入口")]),t._v(" "),r("ul",[r("li",[t._v("比如我们使用axios模块 const axios = require('axios')")]),t._v(" "),r("li",[t._v("如果有"),r("font",{attrs:{color:"orange"}},[t._v("main属性，实际上是找到对应的main属性查找文件的")]),t._v("；")],1)])],1)])])]),t._v(" "),r("img",{attrs:{src:t.$withBase("/images/tool/package文件的main属性.png")}}),t._v(" "),r("p",[r("font",{attrs:{color:"red"}},[r("strong",[t._v("常见属性 - script属性")])])],1),t._v(" "),r("ul",[r("li",[r("strong",[t._v("script 属性")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("script 属性用于配置一些脚本命令，以键值对的形式存在")])],1),t._v(" "),r("li",[t._v("配置后我们可以通过"),r("font",{attrs:{color:"orange"}},[r("strong",[t._v("npm run")]),t._v(" 命令的key来执行这个命令")]),t._v("；")],1),t._v(" "),r("li",[t._v("npm start 和 npm run start 的区别是什么？\n"),r("ul",[r("li",[t._v("它们是等价的；")]),t._v(" "),r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("对于常用的 start、 test、stop、restart")]),r("font",{attrs:{color:"orange"}},[t._v("可以省略掉 run 直接通过 npm start等方式运行")]),t._v("；")],1)])])])])]),t._v(" "),r("p",[r("strong",[r("font",{attrs:{color:"red"}},[t._v("常见属性 - dependencies 属性")])],1)]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("dependencies属性")]),t._v(" "),r("ul",[r("li",[t._v("dependencies属性是"),r("font",{attrs:{color:"orange"}},[t._v("指定无论开发环境还是生成环境都需要依赖的包")]),t._v("；")],1),t._v(" "),r("li",[t._v("通常是我们"),r("font",{attrs:{color:"orange"}},[t._v("项目实际开发用到的一些库模块vue、vuex、vue-router、react、react-dom、axios")]),t._v("等等；")],1)])])]),t._v(" "),r("p",[r("strong",[r("font",{attrs:{color:"red"}},[t._v("常见属性 - devDependencies 属性")])],1)]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("devDependencies属性")]),t._v(" "),r("ul",[r("li",[t._v("一些包在"),r("font",{attrs:{color:"orange"}},[t._v("生成环境是不需要的，比如webpack、babel等")]),t._v("；")],1),t._v(" "),r("li",[t._v("这个时候我们会"),r("font",{attrs:{color:"orange"}},[t._v("通过 npm install webpack --save-dev")]),t._v("，将它安装到devDependencies属性中；")],1)])])]),t._v(" "),r("p",[r("font",{attrs:{color:"red"}},[r("strong",[t._v("peerDependencies 属性")])])],1),t._v(" "),r("ul",[r("li",[t._v("还有一种项目依赖关系是"),r("font",{attrs:{color:"orange"}},[t._v("对等依赖")]),t._v("，也就是"),r("font",{attrs:{color:"orange"}},[t._v("你依赖的一个包，它必须是以另外一个宿主包为前提的")]),t._v("；")],1),t._v(" "),r("li",[t._v("比如element-plus是依赖于vue3的")])]),t._v(" "),r("h3",{attrs:{id:"依赖的版本管理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#依赖的版本管理"}},[t._v("#")]),t._v(" 依赖的版本管理")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dependencies"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"axios"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.2.1"')]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br")])]),r("ul",[r("li",[r("p",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("会发现安装的依赖版本出现：^2.0.3或~2.0.3")]),t._v("，这是什么意思呢")],1)]),t._v(" "),r("li",[r("p",[r("font",{attrs:{color:"orange"}},[t._v("npm的包通常需要遵从semver版本")]),t._v("规范：")],1),t._v(" "),r("ul",[r("li",[t._v("semver：https://semver.org/lang/zh-CN/")]),t._v(" "),r("li",[t._v("npm semver：https://docs.npmjs.com/misc/semver")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("semver版本规范是X.Y.Z")]),t._v("：")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v(" X主版本号（major）")]),t._v("：当你做了"),r("font",{attrs:{color:"orange"}},[t._v("不兼容的 API 修改")]),t._v("（可能不兼容之前的版本）；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("Y次版本号（minor）")]),t._v("：当你做了向下兼容的功能性新增（"),r("font",{attrs:{color:"orange"}},[t._v("新功能增加，但是兼容之前的版本")]),t._v("）；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("Z修订号（patch）")]),t._v("：当你做了向下兼容的问题修正（没有新功能，"),r("font",{attrs:{color:"orange"}},[t._v("修复了之前版本的bug")]),t._v("）；")],1)])]),t._v(" "),r("li",[r("p",[t._v("我们这里解释一下^和~的区别")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v(" x.y.z")]),t._v("：表示一个明确的版本号；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("^x.y.z")]),t._v("：表示"),r("strong",[t._v("x是保持不变")]),t._v("的"),r("font",{attrs:{color:"orange"}},[t._v("，y和z永远安装最新的版本")]),t._v("；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("~x.y.z")]),t._v("：表示"),r("strong",[t._v("x和y保持不变")]),t._v("的，"),r("font",{attrs:{color:"orange"}},[t._v("z永远安装最新的版本")]),t._v("；")],1)])])]),t._v(" "),r("h2",{attrs:{id:"npm工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#npm工具"}},[t._v("#")]),t._v(" npm工具")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("使用 npm 安装包分两种情况")])]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("全局安装（global install）")]),t._v("： "),r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm install webpack -g;")])],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("项目（局部）安装（local install）")]),t._v("： "),r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm install webpack")])],1)])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("全局安装")])]),t._v(" "),r("ul",[r("li",[r("p",[t._v("全局安装是直接将某个包安装到全局")])]),t._v(" "),r("li",[r("p",[t._v("比如全局安装yarn：")])])]),t._v(" "),r("p",[r("strong",[r("font",{attrs:{color:"orange"}},[t._v("npm install yanr -g")])],1)])]),t._v(" "),r("li",[r("p",[t._v("注意：")]),t._v(" "),r("ul",[r("li",[t._v("通常使用"),r("font",{attrs:{color:"orange"}},[t._v("npm全局安装的包都是一些工具包")]),r("font",{attrs:{color:"cornflowerblue"}},[t._v("：yarn、webpack等")])],1),t._v(" "),r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v(" 并不是类似于 axios、express、koa等库文件")]),t._v("；")],1),t._v(" "),r("li",[t._v("所以全局安装了之后并不能让我们在所有的项目中使用 axios等库；")])])])]),t._v(" "),r("h3",{attrs:{id:"项目安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#项目安装"}},[t._v("#")]),t._v(" 项目安装")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("项目"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("安装会在当前目录下生成一个 node_modules 文件夹")])],1)]),t._v(" "),r("li",[r("p",[r("font",{attrs:{color:"orange"}},[t._v("局部安装分为开发时依赖和生产时依赖")]),t._v("：")],1),t._v(" "),r("div",{staticClass:"language-xml-dtd line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v(" // 默认安装开发和生产依赖\nnpm install axios\nnpm i axios\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br")])]),r("div",{staticClass:"language-xml-dtd line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v(" // 开发依赖\nnpm install webpack --save-dev\nnpm install webpack -D\nnpm i webpack -D\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br")])]),r("div",{staticClass:"language-xml-dtd line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("  // 根据 package.json 中 的依赖的包\nnpm install\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])])])]),t._v(" "),r("h3",{attrs:{id:"npm-install-原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#npm-install-原理"}},[t._v("#")]),t._v(" npm install 原理")]),t._v(" "),r("ul",[r("li",[t._v("是否思考过它的内部原理呢？\n"),r("ul",[r("li",[t._v("执行 "),r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm install它背后帮助我们完成了什么操作")]),t._v("？")],1),t._v(" "),r("li",[t._v("我们会发现还有一个"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("称之为package-lock.json的文件")]),t._v("，它的作用是什么？")],1),t._v(" "),r("li",[t._v("从npm5开始"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("，npm支持缓存策略（来自yarn的压力）")]),t._v("，"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("缓存有什么作用呢？")])],1)])]),t._v(" "),r("li",[t._v("根据 npm install 的原理图：")])]),t._v(" "),r("img",{attrs:{src:t.$withBase("/images/tool/npm_install_原理图.png")}}),t._v(" "),r("p",[r("strong",[t._v("npm install 原理图解析")])]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("npm install会检测是有package-lock.json文件：")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("没有lock文件")]),t._v(" "),r("ul",[r("li",[t._v("分析依赖关系，这是因为我们可能包会依赖其他的包，并且多个包之间会产生相同依赖的情况")]),t._v(" "),r("li",[t._v("从registry仓库中下载压缩包（如果我们设置了镜像，那么会从镜像服务器下载压缩包）；")]),t._v(" "),r("li",[t._v("获取到压缩包后会对压缩包进行缓存（从npm5开始有的）")]),t._v(" "),r("li",[t._v("将压缩包解压到项目的node_modules文件夹中（前面我们讲过，require的查找顺序会在该包下面查找）")])])],1),t._v(" "),r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("有lock文件")])],1),t._v(" "),r("li",[t._v("检测lock中包的版本是否和package.json中一致（会按照semver版本规范检测）\n"),r("ul",[r("li",[t._v("不一致，那么会重新构建依赖关系，直接会走顶层的流程；")])])]),t._v(" "),r("li",[t._v("一致的情况下，会去优先查找缓存\n"),r("ul",[r("li",[t._v("没有找到，会从registry仓库下载，直接走顶层流程；")])])]),t._v(" "),r("li",[t._v("查找到，会获取缓存中的压缩文件，并且将压缩文件解压到node_modules文件夹中；")])])])]),t._v(" "),r("h3",{attrs:{id:"package-lock-json"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#package-lock-json"}},[t._v("#")]),t._v(" package-lock.json")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"version"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"lockfileVersion"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"requires"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"packages"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('""')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"version"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"license"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ISC"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dependencies"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"axios"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.2.1"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"webpack"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.75.0"')]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"node_modules/@jridgewell/gen-mapping"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"version"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.3.2"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"resolved"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.2.tgz"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"integrity"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sha512-mh65xKQAzI6iBcFzwv28KVWSmCkdRBWoOh+bYQGW3+6OZvbbN3TqMGo5hqYxQniRcH9F2VZIoJCm4pa3BPDK/A=="')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dependencies"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"@jridgewell/set-array"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.0.1"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"@jridgewell/sourcemap-codec"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.4.10"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"@jridgewell/trace-mapping"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^0.3.9"')]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"engines"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"node"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=6.0.0"')]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br"),r("span",{staticClass:"line-number"},[t._v("18")]),r("br"),r("span",{staticClass:"line-number"},[t._v("19")]),r("br"),r("span",{staticClass:"line-number"},[t._v("20")]),r("br"),r("span",{staticClass:"line-number"},[t._v("21")]),r("br"),r("span",{staticClass:"line-number"},[t._v("22")]),r("br"),r("span",{staticClass:"line-number"},[t._v("23")]),r("br"),r("span",{staticClass:"line-number"},[t._v("24")]),r("br"),r("span",{staticClass:"line-number"},[t._v("25")]),r("br"),r("span",{staticClass:"line-number"},[t._v("26")]),r("br"),r("span",{staticClass:"line-number"},[t._v("27")]),r("br"),r("span",{staticClass:"line-number"},[t._v("28")]),r("br")])]),r("p",[r("strong",[t._v("package-lock.json 文件解析")])]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("name")]),t._v("：项目的名称；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("version")]),t._v("：项目的版本；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("lockfileVersion：lock")]),t._v("文件的版本；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("requires")]),t._v("：使用requires来跟踪模块的依赖关系；")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("dependencies")]),t._v("：项目的依赖")],1),t._v(" "),r("li",[t._v("当前项目依赖axios，但是axios依赖follow-redireacts；")]),t._v(" "),r("li",[t._v("axios中的属性如下：\n"),r("ul",[r("li",[t._v("✓ "),r("font",{attrs:{color:"orange"}},[t._v("version")]),t._v("表示实际安装的axios的版本；")],1),t._v(" "),r("li",[t._v("✓ "),r("font",{attrs:{color:"orange"}},[t._v("resolved")]),t._v("用来记录下载的地址，registry仓库中的位置；")],1),t._v(" "),r("li",[t._v("✓"),r("font",{attrs:{color:"orange"}},[t._v(" requires/dependencies")]),t._v("font>记录当前模块的依赖；")],1),t._v(" "),r("li",[t._v("✓ "),r("font",{attrs:{color:"orange"}},[t._v("integrity")]),t._v("用来从缓存中获取索引，再通过索引去获取压缩包文件；")],1)])])]),t._v(" "),r("h3",{attrs:{id:"npm-其他命令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#npm-其他命令"}},[t._v("#")]),t._v(" npm 其他命令")]),t._v(" "),r("ul",[r("li",[t._v("卸载某个依赖包\n"),r("ul",[r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm uninstall package")])],1),t._v(" "),r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm uninstall package --save-dev")])],1),t._v(" "),r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm uninstall package -D")])],1)])]),t._v(" "),r("li",[t._v("强制重新build\n"),r("ul",[r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm rebuild")])],1)])]),t._v(" "),r("li",[t._v("清除缓存")]),t._v(" "),r("li",[r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm cache clean")])],1),t._v(" "),r("li",[t._v("npm的命令其实是非常多的：\n"),r("ul",[r("li",[t._v("https://docs.npmjs.com/cli-documentation/cli")])])])]),t._v(" "),r("h2",{attrs:{id:"yarn-工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#yarn-工具"}},[t._v("#")]),t._v(" yarn 工具")]),t._v(" "),r("ul",[r("li",[t._v("yarn 是由 Facebook 、Google 、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具")]),t._v(" "),r("li",[t._v("yarn 是为了"),r("font",{attrs:{color:"orange"}},[t._v("弥补 早期npm 的一些缺陷")]),t._v("而出现的；")],1),t._v(" "),r("li",[t._v("早期的npm存在很多的缺陷，比如"),r("font",{attrs:{color:"orange"}},[t._v("安装依赖速度很慢、版本依赖混乱等")]),t._v("等一系列的问题")],1),t._v(" "),r("li",[t._v("虽然从"),r("font",{attrs:{color:"orange"}},[t._v("npm5版本开始")]),t._v("，进行了很多的升级和改进，但是依然很多人喜欢使用yarn；")],1)]),t._v(" "),r("img",{attrs:{src:t.$withBase("/images/tool/npm 工具的使用.png")}}),t._v(" "),r("h2",{attrs:{id:"cnpm-工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cnpm-工具"}},[t._v("#")]),t._v(" cnpm 工具")]),t._v(" "),r("ul",[r("li",[t._v("由于一些特殊的原因，某些情况下"),r("font",{attrs:{color:"orange"}},[t._v("我们没办法很好的从 https://registry.npmjs.org下载下来一些需要的包")]),t._v("。")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("查看 npm 镜像")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm config get registry")]),t._v(" #")],1)])],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("我们可以直接设置npm的镜像：")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm config set registry https://registry.npm.taobao.org")])],1)])],1),t._v(" "),r("li",[t._v("但是对于大多数人来说（比如我），并不希望将npm镜像修改了\n"),r("ul",[r("li",[t._v("第一，"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("不太希望随意修改npm原本从官方下来包的渠道")]),t._v("；")],1),t._v(" "),r("li",[t._v("第二，"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("担心某天淘宝的镜像挂了或者不维护了，又要改来改去")]),t._v("；")],1)])]),t._v(" "),r("li",[r("strong",[t._v("这个时候，我们可以使用cnpm，并且将cnpm设置为淘宝的镜像")]),t._v("：\n"),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm install cnpm -g")])],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm config set registry https:// registry.npm.taobao.org")]),t._v("     // 设置镜像")],1),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("cnpm config get registry ")]),t._v("   // 查看镜像")],1)])])]),t._v(" "),r("h2",{attrs:{id:"npx-工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#npx-工具"}},[t._v("#")]),t._v(" npx 工具")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("npx 是 npm5.2 之后自带的一个命令")]),t._v(" "),r("ul",[r("li",[t._v("npx的作用非常多，但是比较常见的是"),r("font",{attrs:{color:"orange"}},[t._v("使用它来调用项目中的某个模块的指令")]),t._v("。")],1)])]),t._v(" "),r("li",[r("font",{attrs:{color:"orange"}},[t._v("npx 可以调用项目的 项目安装的版本运行")])],1)]),t._v(" "),r("p",[r("strong",[t._v("npx的原理非常简单，它会到当前目录的node_modules/.bin目录下查找对应的命令；")])]),t._v(" "),r("h2",{attrs:{id:"发布自己的开发包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#发布自己的开发包"}},[t._v("#")]),t._v(" 发布自己的开发包")]),t._v(" "),r("ul",[r("li",[t._v("注册 npm 账号\n"),r("ul",[r("li",[t._v("https://www.npmjs.com/")]),t._v(" "),r("li",[t._v("选择sign up")])])]),t._v(" "),r("li",[t._v("在命令行登录\n"),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm login")])],1)])]),t._v(" "),r("li",[t._v("修改 pakeage.json")]),t._v(" "),r("li",[t._v("发布 npm regjstry 上\n"),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm publish")])],1)])]),t._v(" "),r("li",[t._v("更新仓库：\n"),r("ul",[r("li",[t._v("1.修改版本号(最好符合semver规范)")]),t._v(" "),r("li",[t._v("2.重新发布")])])]),t._v(" "),r("li",[t._v("删除发布的包\n"),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm unpublish")])],1)])]),t._v(" "),r("li",[t._v("让发布的包过期\n"),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("npm deprecate")])],1)])])]),t._v(" "),r("h2",{attrs:{id:"pnpm"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pnpm"}},[t._v("#")]),t._v(" pnpm")]),t._v(" "),r("p",[t._v("什么是pnpm呢？我们来看一下官方的解释")]),t._v(" "),r("ul",[r("li",[t._v("pnpm：我们可以理解成是"),r("font",{attrs:{color:"orange"}},[t._v("performant npm")]),t._v("缩写；")],1)]),t._v(" "),r("img",{attrs:{src:t.$withBase("/images/tool/pnpm解释.png")}}),t._v(" "),r("p",[t._v("那些公司在用呢？")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("Microsoft 、 字节跳动、包括Vue")]),t._v("在内的很多公司或者开源项目的包管理工具都切换到了pnpm；")],1)]),t._v(" "),r("h3",{attrs:{id:"硬连接和软连接的概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#硬连接和软连接的概念"}},[t._v("#")]),t._v(" 硬连接和软连接的概念")]),t._v(" "),r("p",[r("strong",[t._v("硬连接")])]),t._v(" "),r("ul",[r("li",[t._v("硬链接（英语：hard link）是"),r("font",{attrs:{color:"orange"}},[t._v("电脑文件系统中的多个文件平等地共享同一个文件存储单元")]),t._v("；")],1),t._v(" "),r("li",[t._v("删除一个文件名字后，还可以用其它名字继续访问该文件；")])]),t._v(" "),r("p",[r("strong",[t._v("符号链接（软链接）")])]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[t._v("符号链接 （软链接） 是一类特殊的文件")])],1),t._v(" "),r("li",[t._v("包含有"),r("font",{attrs:{color:"orange"}},[t._v("一条以绝对路径或者相对路径的形式指向其它文件或者目录的引用")]),t._v("；")],1)]),t._v(" "),r("h3",{attrs:{id:"硬链接和软连接的演练"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#硬链接和软连接的演练"}},[t._v("#")]),t._v(" 硬链接和软连接的演练")]),t._v(" "),r("p",[r("strong",[r("font",{attrs:{color:"orange"}},[t._v("文件的拷贝")])],1),t._v("：文件的拷贝每个人都非常熟悉，会在硬盘中复制出来一份新的文件数据；")]),t._v(" "),r("div",{staticClass:"language-xml-dtd line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("window： copy foo.js foo_copy.js\nmacos： cp foo.js foo_copy.js\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])]),r("img",{attrs:{src:t.$withBase("/images/tool/文件拷贝.png")}}),t._v(" "),r("p",[r("font",{attrs:{color:"orange"}},[r("strong",[t._v("文件的硬链接")])])],1),t._v(" "),r("div",{staticClass:"language-xml-dtd line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("window：mklink /H foo2.js foo.js\nmacos：ln foo.js foo2.js\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])]),r("img",{attrs:{src:t.$withBase("/images/tool/文件硬链接.png")}}),t._v(" "),r("p",[r("font",{attrs:{color:"orange"}},[r("strong",[t._v("文件的软链接")])])],1),t._v(" "),r("div",{staticClass:"language-xml-dtd line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("mklink : foo.js foo2.js\nmacos : ln -s foo.js foo_copy.js\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])]),r("img",{attrs:{src:t.$withBase("/images/tool/文件软链接.png")}}),t._v(" "),r("h3",{attrs:{id:"pnpm-到底做了什么呢"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pnpm-到底做了什么呢"}},[t._v("#")]),t._v(" "),r("strong",[t._v("pnpm 到底做了什么呢？")])]),t._v(" "),r("ul",[r("li",[t._v("当"),r("font",{attrs:{color:"cornflowerblue"}},[t._v("使用 npm 或 Yarn ")]),t._v("时，如果"),r("font",{attrs:{color:"orange"}},[t._v("你有 100 个项目")]),t._v("，并且所有"),r("font",{attrs:{color:"orange"}},[t._v("项目都有一个相同的依赖包")]),t._v("，那么， 你在"),r("font",{attrs:{color:"orange"}},[t._v("硬盘上就需要保存 100 份该相同依赖包的副本")]),t._v("。")],1),t._v(" "),r("li",[t._v("如果是"),r("font",{attrs:{color:"orange"}},[t._v("使用 pnpm")]),t._v("，依赖包将被"),r("font",{attrs:{color:"orange"}},[t._v(" 存放在一个统一的位置")]),t._v("，\n"),r("ul",[r("li",[t._v("如果你对"),r("font",{attrs:{color:"orange"}},[t._v("同一依赖包使用相同的版本")]),t._v("，那么"),r("font",{attrs:{color:"orange"}},[t._v("磁盘上只有这个依赖包的一份文件")]),t._v("；")],1),t._v(" "),r("li",[t._v("如果你对"),r("font",{attrs:{color:"orange"}},[t._v("同一依赖包需要使用不同的版本")]),t._v("，则仅有 "),r("font",{attrs:{color:"orange"}},[t._v("版本之间不同的文件会被存储起来")]),t._v("；")],1),t._v(" "),r("li",[t._v("所有文件都"),r("font",{attrs:{color:"orange"}},[t._v("保存在硬盘上的统一的位置")]),t._v("：\n"),r("ul",[r("li",[t._v("当安装软件包时， 其包含的所有文件都会硬链接到此位置，而不会占用 额外的硬盘空间；")]),t._v(" "),r("li",[t._v("这让你可以在项目之间方便地共享相同版本的 依赖包；")])])],1)])],1)]),t._v(" "),r("h3",{attrs:{id:"pnpm创建非扁平的-node-modules-目录"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pnpm创建非扁平的-node-modules-目录"}},[t._v("#")]),t._v(" pnpm创建非扁平的 node_modules 目录")]),t._v(" "),r("ul",[r("li",[t._v("当使用 "),r("font",{attrs:{color:"cornflowerblue"}},[t._v("npm 或 Yarn Classic 安装依赖包时，所有软件包都将被提升到 node_modules 的 根目录下")]),t._v(" "),r("ul",[r("li",[t._v("其结果是，"),r("font",{attrs:{color:"orange"}},[t._v("源码可以访问 本不属于当前项目所设定的依赖包")]),t._v("；")],1)])],1)]),t._v(" "),r("img",{attrs:{src:t.$withBase("/images/tool/pnpm创建非扁平.png")}}),t._v(" "),r("h3",{attrs:{id:"pnpm-的-安装-和-使用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pnpm-的-安装-和-使用"}},[t._v("#")]),t._v(" pnpm 的 安装 和 使用")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("那么我们应该如何安装pnpm呢？")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("官网提供了很多种方式来安装pnpm：https://www.pnpm.cn/installation")])]),t._v(" "),r("li",[r("p",[t._v("因为我们每个同学都要求安装过Node，Node中有npm，所以我们"),r("font",{attrs:{color:"orange"}},[t._v("通过npm安装")]),t._v("即可；")],1),t._v(" "),r("ul",[r("li",[r("div",{staticClass:"language-xml-dtd line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("npm install pnpm -g\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])])])])])])])]),t._v(" "),r("p",[r("strong",[t._v("pnpm 的 使用")])]),t._v(" "),r("img",{attrs:{src:t.$withBase("/images/tool/pnpm的使用.png")}}),t._v(" "),r("h3",{attrs:{id:"pnpm-的-存储-store"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pnpm-的-存储-store"}},[t._v("#")]),t._v(" pnpm 的 存储 store")]),t._v(" "),r("ul",[r("li",[t._v("可以通过一些"),r("font",{attrs:{color:"orange"}},[t._v("终端命令获取这个目录：获取当前活跃的store目录")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[r("strong",[t._v("pnpm store path")])])],1)])],1),t._v(" "),r("li",[t._v("另外一个"),r("font",{attrs:{color:"orange"}},[t._v("非常重要的store命令是prune（修剪）")]),t._v("：从store中"),r("font",{attrs:{color:"orange"}},[t._v("删除当前未被引用的包来释放store的空间")]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"orange"}},[r("strong",[t._v("pnpm store prune")])])],1)])],1)])])}),[],!1,null,null,null);s.default=a.exports}}]);