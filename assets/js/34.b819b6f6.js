(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{585:function(s,t,a){"use strict";a.r(t);var n=a(13),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"内置模块-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置模块-path"}},[s._v("#")]),s._v(" 内置模块 path")]),s._v(" "),a("ul",[a("li",[s._v("path 模块 用于对"),a("font",{attrs:{color:"orange"}},[s._v("路径和文件")]),s._v("进行处理 ，提供了很多好用的方法")],1),s._v(" "),a("li",[s._v("我们知道在Mac OS、Linux和window上的路径时不一样的\n"),a("ul",[a("li",[s._v("window上会"),a("font",{attrs:{color:"orange"}},[s._v("使用 \\或者 \\ \\ ")]),s._v("来作为文件路径的分隔符，当然目前也支持 /；")],1),s._v(" "),a("li",[s._v("在Mac OS、Linux的Unix操作系统上"),a("font",{attrs:{color:"orange"}},[s._v("使用 / ")]),s._v("来作为文件路径的分隔符")],1)])]),s._v(" "),a("li",[s._v("那么如果我们在window上使用 \\ 来作为分隔符开发了一个应用程序，要部署到Linux上面应该怎么办呢？")]),s._v(" "),a("li",[s._v("显示"),a("font",{attrs:{color:"orange"}},[s._v("路径会出现一些问题")]),s._v("；")],1),s._v(" "),a("li",[s._v("所以"),a("font",{attrs:{color:"orange"}},[s._v("为了屏蔽他们之间的差异，在开发中对于路径的操作我们可以使用 path 模块")]),s._v("；")],1)]),s._v(" "),a("h3",{attrs:{id:"path-常见的-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path-常见的-api"}},[s._v("#")]),s._v(" path 常见的 API")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("从路径中获取信息")]),s._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("dirname ")]),s._v("：获取文件的父文件夹")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("basename ")]),s._v("：获取文件名")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("extname ")]),s._v("：获取文件扩展名")],1)])]),s._v(" "),a("li",[a("strong",[s._v("路径的拼接：path.join")]),s._v(" "),a("ul",[a("li",[s._v("如果我们希望将多个路径进行拼接，但是不同的操作系统可能使用的是不同的分隔符；")]),s._v(" "),a("li",[s._v("这个时候我们可以使用path.join函数")])])]),s._v(" "),a("li",[a("strong",[s._v("拼接绝对路径：path.resolve")]),s._v(" "),a("ul",[a("li",[s._v("path.resolve() 方法会把一个路径或路径片段的序列"),a("font",{attrs:{color:"orange"}},[s._v("解析为一个绝对路径")]),s._v("；")],1),s._v(" "),a("li",[s._v("给定的路径的序列是"),a("font",{attrs:{color:"orange"}},[s._v("从右往左被处理")]),s._v("的，后面每个 path 被依次解析，直到构造完成一个绝对路径；")],1),s._v(" "),a("li",[s._v("如果在处理完所有给定path的段之后，还没有生成绝对路径，则使用当前工作目录；")]),s._v(" "),a("li",[s._v("生成的路径被规范化并删除尾部斜杠，零长度path段被忽略")]),s._v(" "),a("li",[s._v("如果没有path传递段，path.resolve()将返回当前工作目录的绝对路径")])])])]),s._v(" "),a("h2",{attrs:{id:"认识webpack工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#认识webpack工具"}},[s._v("#")]),s._v(" 认识webpack工具")]),s._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("webpack 是一个静态的模块化打包工具 ，为现代的Javascript应用程序")])],1),s._v(" "),a("li",[s._v("我们来对上面的解释进行拆解：\n"),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("打包")]),s._v("bundler：webpack可以将帮助我们进行打包，所以"),a("font",{attrs:{color:"orange"}},[s._v("它是一个打包工具")])],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("静态")]),s._v("的static：这样表述的原因是我们最终"),a("font",{attrs:{color:"orange"}},[s._v("可以将代码打包成最终的静态资源")]),s._v("（部署到静态服务器）；")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("模块化")]),s._v("module：webpack默认"),a("font",{attrs:{color:"orange"}},[s._v("支持各种模块化开发")]),s._v("，ES Module、CommonJS、AMD等；")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("现代的modern")]),s._v("：我们前端说过，正是因为现代前端开发面临各种各样的问题，才催生了webpack的出现和发展；")],1)])])]),s._v(" "),a("img",{attrs:{src:s.$withBase("/images/webpack/webpack介绍.png")}}),s._v(" "),a("h3",{attrs:{id:"webpack-的使用前提"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-的使用前提"}},[s._v("#")]),s._v(" webpack 的使用前提")]),s._v(" "),a("ul",[a("li",[s._v("Webpack的运行是"),a("font",{attrs:{color:"orange"}},[s._v("依赖Node环境")]),s._v("的，所以我们电脑上"),a("font",{attrs:{color:"orange"}},[s._v("必须有Node环境")]),s._v(" "),a("ul",[a("li",[s._v("所以我们需要"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("先安装Node.js")]),s._v("，并且"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("同时会安装npm")]),s._v("；")],1)])],1)]),s._v(" "),a("h3",{attrs:{id:"webpack的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack的安装"}},[s._v("#")]),s._v(" webpack的安装")]),s._v(" "),a("ul",[a("li",[s._v("webpack 的安装目前分为两个 "),a("strong",[a("font",{attrs:{color:"orange"}},[s._v("webpack webpack-cli")])],1)]),s._v(" "),a("li",[s._v("那么它们是什么关系呢？\n"),a("ul",[a("li",[s._v("执行webpack命令，会执行node_modules下的.bin目录下的webpack；")]),s._v(" "),a("li",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("webpack在执行时是依赖webpack-cli的，如果没有安装就会报错；")])],1),s._v(" "),a("li",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("webpack-cli中代码执行")]),s._v("时，"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("才是真正利用webpack进行编译和打包")]),s._v("的过程；")],1),s._v(" "),a("li",[s._v("所以在安装webpack时，我们需要同时安装webpack-cli（第三方的脚手架事实上是没有使用webpack-cli的，而是类似于自 己的vue-service-cli的东西）")])])])]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install webpack webpack-cli -g  // 全局安装\nnpm install webpack webpack-cli -D  // 局部安装\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"webpack-基本打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-基本打包"}},[s._v("#")]),s._v(" webpack 基本打包")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("我们可以通过webpack进行打包，之后运行打包之后的代")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在目录下直接执行 webpack 命令")]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("webpack\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[a("font",{attrs:{color:"orange"}},[s._v("生成一个dist文件夹")]),s._v("，里面存放一个"),a("font",{attrs:{color:"orange"}},[s._v("main.js的文件")]),s._v("，就是我们"),a("font",{attrs:{color:"orange"}},[s._v("打包之后")]),s._v("的文件")],1),s._v(" "),a("ul",[a("li",[s._v("这个文件中的代码被压缩和丑化了；")]),s._v(" "),a("li",[s._v("另外我们发现代码中依然存在ES6的语法，比如箭头函数、const等，这是因为默认情况下webpack并不清楚我们打包后的文 是否需要转成ES5之前的语法，后续我们需要"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("通过babel来进行转换和设置")]),s._v("；")],1)])]),s._v(" "),a("li",[a("p",[s._v("我们发现是可以正常进行打包的，但是有一个问题，"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("webpack是如何确定我们的入口")]),s._v("的呢？")],1),s._v(" "),a("ul",[a("li",[s._v("事实上，当我们运行webpack时，"),a("font",{attrs:{color:"orange"}},[s._v("webpack会查找当前目录下的 src/index.js作为入口")]),s._v("；")],1),s._v(" "),a("li",[s._v("所以，如果当前项目"),a("font",{attrs:{color:"orange"}},[s._v("中没有存在src/index.js文件，那么会报错")]),s._v("；")],1)])]),s._v(" "),a("li",[a("p",[s._v("当然，我们也可以"),a("font",{attrs:{color:"orange"}},[s._v("通过配置来指定入口和出口")])],1),s._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npx webpack --entry ./src/main.js --output-path ./build\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])])]),s._v(" "),a("h2",{attrs:{id:"webpack-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-配置文件"}},[s._v("#")]),s._v(" webpack 配置文件")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("目录下创建一个"),a("font",{attrs:{color:"orange"}},[s._v("webpack.config.js文件，来作为webpack的配置文件")]),s._v("：")],1)]),s._v(" "),a("li",[a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导出配置信息")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/main.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 入口")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 出口")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bundle.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包后文件名称")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./dist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包后文件路径")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("p",[a("strong",[s._v("指定配置文件")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("如果我们的配置文件并不是webpack.config.js的名字，而是其他的名字呢？")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("比如我们"),a("font",{attrs:{color:"orange"}},[s._v("将webpack.config.js修改成了 wk.config.js")]),s._v("；")],1)]),s._v(" "),a("li",[a("p",[s._v("这个时候我们"),a("font",{attrs:{color:"orange"}},[s._v("可以通过 --config 来指定对应的配置文件")])],1)])]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("webpack --config wk.config.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[s._v("但是每次这样执行命令来对源码进行编译，会非常繁琐，所以我们可以在package.json中增加一个新的脚本：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --config wk.config.js"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("之后我们执行"),a("font",{attrs:{color:"cornflowerblue"}},[s._v(" npm run build")]),s._v(" 来打包即可")],1),s._v(" "),a("h2",{attrs:{id:"webpack的依赖图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack的依赖图"}},[s._v("#")]),s._v(" webpack的依赖图")]),s._v(" "),a("ul",[a("li",[s._v("webpack到底是如何对我们的项目进行打包的呢？\n"),a("ul",[a("li",[s._v("事实上webpack在处理应用程序时，它会根据命令或者配置文件找到入口文件")]),s._v(" "),a("li",[s._v("从入口开始，会生成一个 "),a("font",{attrs:{color:"orange"}},[s._v("依赖关系图")]),s._v("，这个"),a("font",{attrs:{color:"orange"}},[s._v("依赖关系图")]),s._v("会包含应用程序中所需的所有模块（比如.js文件、css文件、图片、字体等）；")],1),s._v(" "),a("li",[s._v("然后遍历图结构，打包一个个模块（"),a("font",{attrs:{color:"orange"}},[s._v("根据文件的不同使用不同的loader来解析")]),s._v("）；")],1)])])]),s._v(" "),a("img",{attrs:{src:s.$withBase("/images/webpack/webpack介绍.png")}}),s._v(" "),a("h2",{attrs:{id:"处理css文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理css文件"}},[s._v("#")]),s._v(" 处理css文件")]),s._v(" "),a("h3",{attrs:{id:"css-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-loader"}},[s._v("#")]),s._v(" css-loader")]),s._v(" "),a("ul",[a("li",[s._v("我们可以将"),a("font",{attrs:{color:"orange"}},[s._v("css文件也看成是一个模块")]),s._v("，我们是"),a("font",{attrs:{color:"orange"}},[s._v("通过import来加载这个模块")]),s._v("的")],1),s._v(" "),a("li",[s._v("在记载这个模块时，"),a("font",{attrs:{color:"orange"}},[s._v("webpack其实并不知道如何对其进行加载")]),s._v(" ，我们必须制定对应的loader来完成这个功能；")],1)]),s._v(" "),a("p",[s._v("那么我们需要一个什么样的loader呢？")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("对于加载css文件来说，我们需要一个可以读取css文件的loader；")])]),s._v(" "),a("li",[a("p",[s._v("这个loader最常用的是 "),a("font",{attrs:{color:"orange"}},[s._v("css-loader")]),s._v("；")],1),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install css-loader -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[a("font",{attrs:{color:"red"}},[a("strong",[s._v("loader配置方式")])])],1),s._v(" "),a("ul",[a("li",[a("p",[s._v("配置方式表示的意思是在我们的"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("webpack.config.js")]),s._v("文件中写明配置信息")],1),s._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("module.rules")]),s._v("中允许我们配置多个"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("loader")]),s._v("（因为我们也会继续使用其他的loader，来完成其他文件的加载）；")],1)])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("module.rules")]),s._v(" 的配置如下")])]),s._v(" "),a("li",[a("p",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("rules 属性")]),s._v("对应的值是一个"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("数组")]),s._v(" ： [Rule]")],1)]),s._v(" "),a("li",[a("p",[s._v("数组中存放的是一个个的Rule，Rule是一个对象，对象中可以设置多个属性：")]),s._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("test 属性")]),s._v(" ：用于对 resource（资源）进行匹配的，通常会设置成正则表达式；")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("use 属性")]),s._v(" ：对应的值时一个数组\n"),a("ul",[a("li",[s._v("UseEntry是一个对象，可以通过对象的属性来设置一些其他属性\n"),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("loader ")]),s._v("："),a("font",{attrs:{color:"cornflowerblue"}},[s._v("必须有一个 loader属性，对应的值是一个字符串")])],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("options ")]),s._v("：可选的属性，值是一个字符串或者对象，值会被传入到loader中")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("query ")]),s._v("：目前已经使用options来替代；")],1)])]),s._v(" "),a("li",[s._v("传递字符串（如："),a("font",{attrs:{color:"cornflowerblue"}},[s._v("use：[ ' style-loader ' ]")]),s._v(" ）是loader 属性的简写方式 （ 如："),a("font",{attrs:{color:"cornflowerblue"}},[s._v('use: [ { loader:  " style-loader " } ]')]),s._v(" ）")],1)])],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("loader 属性")]),s._v(" ：Rule.use[ { loader } ] 的简写")],1)]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('module.exports = {\n \tmodule:{\n\t\trules:[\n    \t\t{\n    \t\t\ttest:/.\\css$/,\n    \t\t\tloader: "css-loader" // 写法一  场景是 只有一个loader，可以这样写\n    \t\t\t\n\t\t\t\tuse:["css-loader"]  // 写法二   场景是 使用配置对象中使用一个loader属性，可以这样写\n    \t\n\t\t\t\tuse:[ // 写法三  没有简写的\n        \t\t\t{\n        \t\t\t\tloader:"css-loader"\n        \t\t\t}\n    \t\t\t]\n    \t\t}\n\t\t]\n\t}   \n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"style-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#style-loader"}},[s._v("#")]),s._v(" style-loader")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("我们已经可以通过css-loader来加载css文件了")])]),s._v(" "),a("li",[a("p",[s._v("但是你会发现这个css在我们的代码中并"),a("font",{attrs:{color:"orange"}},[s._v("没有生效（页面没有效果）")]),s._v("。")],1)]),s._v(" "),a("li",[a("p",[s._v("这是为什么呢？")]),s._v(" "),a("ul",[a("li",[s._v("因为css-loader只是"),a("font",{attrs:{color:"orange"}},[s._v("负责将.css文件进行解析")]),s._v("，并不会将解析之后的"),a("font",{attrs:{color:"orange"}},[s._v("css插入到页面中")]),s._v("；")],1),s._v(" "),a("li",[s._v("如果我们希望再完成"),a("font",{attrs:{color:"orange"}},[s._v("插入style的操作")]),s._v("，那么我们还需要另外一个loader，就是"),a("font",{attrs:{color:"orange"}},[s._v("style-loader")]),s._v("；")],1)])]),s._v(" "),a("li",[a("p",[s._v("安装 "),a("strong",[s._v("style-loader")])]),s._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install style-loader -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("在配置文件中 ， 添加 style-loader")]),s._v(" "),a("ul",[a("li",[s._v("注意：因为"),a("font",{attrs:{color:"orange"}},[s._v(" loader的 执行顺序是"),a("strong",[s._v("从右向左")])]),s._v(" （ 或者 "),a("font",{attrs:{color:"orange"}},[s._v("从下到上")]),s._v("，或者说 "),a("font",{attrs:{color:"orange"}},[s._v("从后到前")]),s._v("的  ），所以我们需要将 style-loader 写到 css-loader的前面")],1)]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("重新执行编译 npm run build，可以发现打包后的css已经生效了")])],1)])]),s._v(" "),a("h2",{attrs:{id:"处理-less-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理-less-文件"}},[s._v("#")]),s._v(" 处理 less 文件")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在项目中会编写大量的 less 文件 ，如何可以自动转换呢？")]),s._v(" "),a("ul",[a("li",[s._v("这个时候可以使用 "),a("font",{attrs:{color:"orange"}},[s._v("less-loader")]),s._v(" ，来自动使用 less 工具转换 less 到 css")],1)]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install less-loader -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置 webpack.config.js")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.less$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"style-loder"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"css-loder"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"less-loder"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("执行 npm run build less 就可以自动转换为 css ，并且页面生效渲染")])])]),s._v(" "),a("h2",{attrs:{id:"postcss-工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postcss-工具"}},[s._v("#")]),s._v(" postcss 工具")]),s._v(" "),a("ul",[a("li",[s._v("什么是  PostCSS 呢？\n"),a("ul",[a("li",[s._v("PostCSS是一个通过JavaScript来转换样式的工具；")]),s._v(" "),a("li",[s._v("这个工具可以帮助我们"),a("font",{attrs:{color:"orange"}},[s._v("进行一些CSS的转换和适配，比如自动添加浏览器前缀、css样式的重置")]),s._v("；")],1),s._v(" "),a("li",[s._v("实现这些功能，我们需要借助于PostCSS对应的插件")])])]),s._v(" "),a("li",[s._v("如何使用PostCSS呢？主要就是两个步骤\n"),a("ul",[a("li",[s._v("第一步：查找PostCSS在构建工具中的扩展，比如webpack中的"),a("font",{attrs:{color:"orange"}},[s._v("postcss-loader")]),s._v("；")],1),s._v(" "),a("li",[s._v("第二步：选择可以"),a("font",{attrs:{color:"orange"}},[s._v("添加你需要的 postcss 相关的插件")])],1)])])]),s._v(" "),a("p",[s._v("在 webpack 中使用 "),a("font",{attrs:{color:"cornflowerblue"}},[s._v("postcss 就是 使用 postcss-loader ")]),s._v("来处理的。")],1),s._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("安装 postcss-loader")])],1),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install postcss-loader -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"autoprefixer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#autoprefixer"}},[s._v("#")]),s._v(" autoprefixer")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("进行对应的"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("配置")])],1),s._v(" "),a("ul",[a("li",[s._v("注意 ： 因为"),a("font",{attrs:{color:"cornflowerblue"}},[s._v(" postcss 需要有对应的插件才会起效果")]),s._v("，所以我们需要"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("配置它的 plugin")])],1)]),s._v(" "),a("p",[s._v("因为 需要 添加 前缀，所以"),a("font",{attrs:{color:"orange"}},[s._v("要安装 autoprefixer")])],1),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install autoprefixer -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"style-loader"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"css-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postcss-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("postcssOptions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"autoprefixer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])])]),s._v(" "),a("p",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("单独的 postcss 配置文件 ")])],1),s._v(" "),a("ul",[a("li",[a("p",[s._v("可以将这些配置信息放到一个单独的文件进行管理")]),s._v(" "),a("ul",[a("li",[s._v("在根目录下"),a("font",{attrs:{color:"orange"}},[s._v(" 创建 postcss.config.js")])],1)]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"autoprefixer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("此时 "),a("font",{attrs:{color:"orange"}},[s._v("webpack.config.js 文件")]),s._v("中")],1)]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"style-loader"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"css-loader"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postcss-loader"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"postcss-preset-env"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postcss-preset-env"}},[s._v("#")]),s._v(" postcss - preset - env")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("事实上，在配置 postcss-loadder 时， 我们配置插件并不需要使用 autoprefixer 。")])]),s._v(" "),a("li",[a("p",[s._v("可以使用 另外 一个"),a("font",{attrs:{color:"orange"}},[s._v("插件 postcss - preset - env")])],1),s._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("postcss - preset - env 也是 postcss的插件")])],1),s._v(" "),a("li",[s._v("它可以帮助我们将一些现代的CSS特性，转成大多数浏览器认识的CSS，并且会根据目标浏览器或者运行时环境添加所需的 polyfill；")]),s._v(" "),a("li",[s._v("也包括会"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("自动帮助我们添加autoprefixer")]),s._v("（所以相当于已经内置了autoprefixer）；")],1)])]),s._v(" "),a("li",[a("p",[s._v("首先 ，我们需要安装 postcss-preset-env")]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install postcss-preset-env -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"处理图片文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理图片文件"}},[s._v("#")]),s._v(" 处理图片文件")]),s._v(" "),a("p",[a("strong",[s._v("认识 asset module type")])]),s._v(" "),a("ul",[a("li",[s._v("我们当前使用的webpack版本是webpack5：\n"),a("ul",[a("li",[s._v("在webpack5之前，加载这些资源我们"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("需要使用一些loader，比如raw-loader 、url-loader、file-loader")])],1),s._v(" "),a("li",[s._v("在webpack5开始，我们可以直接"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("使用资源模块类型（asset module type）")]),s._v("，来替代上面的这些loader；")],1)])]),s._v(" "),a("li",[a("strong",[s._v("资源模块类型(asset module type)")]),s._v(" ，通过"),a("font",{attrs:{color:"orange"}},[s._v("添加 4 种新的模块类型，来替换所有这些 loader")]),s._v("：\n"),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("asset / resource")]),s._v(" 发送一个单独的文件并导出 URL。\n"),a("ul",[a("li",[s._v("之前通过使用 file-loader 实现；")])])],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("asset / inline")]),s._v(" 导出一个资源的 data URI。\n"),a("ul",[a("li",[s._v("之前通过使用 url-loader 实现;")])])],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("asset / source ")]),s._v("导出资源的源代码\n"),a("ul",[a("li",[s._v("之前通过使用 raw-loader 实现；")])])],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("asset")]),s._v(" 在导出一个 data URI 和发送一个单独的文件之间自动选择。\n"),a("ul",[a("li",[s._v("之前通过使用 url-loader，并且配置资源体积限制实现；")])])],1)])],1)]),s._v(" "),a("p",[a("strong",[s._v("asset module type的使用")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(jpg|png|jpeg|gif)$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1.打包两张图片, 并且这两张图片有自己的地址, 将地址设置到img/bgi中")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 缺点: 多图片加载的两次网络请求")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// type: "asset/resource",')]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2.将图片进行base64的编码, 并且直接编码后的源码放到打包的js文件中")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 缺点: 造成js文件非常大, 下载js文件本身消耗时间非常长, 造成js代码的下载和解析/执行时间过长")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// type: "asset/inline"')]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3.合理的规范:")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3.1.对于小一点的图片, 可以进行base64编码")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3.2.对于大一点的图片, 单独的图片打包, 形成url地址, 单独的请求这个url")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asset"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("generator")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 占位符")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// name: 指向原来的图片名称")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ext: 扩展名")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// hash: webpack生成的hash")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"img/[name][hash:6][ext]"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("parser")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  开发中我们往往是小的图片需要转换，但是大的图片直接使用图片即可")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  这是因为小的图片转换base64之后可以和页面一起被请求，减少不必要的请求过程；")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 而大的图片也进行转换，反而会影响页面的请求速度；")]),s._v("\n            \n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("dataUrlCondition")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("maxSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ：添加一个parser属性，并且制定dataUrl的条件，添加maxSize属性；")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("h2",{attrs:{id:"js文件的兼容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js文件的兼容"}},[s._v("#")]),s._v(" js文件的兼容")]),s._v(" "),a("h3",{attrs:{id:"babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[s._v("#")]),s._v(" babel")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Babel 是一个"),a("font",{attrs:{color:"orange"}},[s._v(" 工具链  ")]),s._v(" 主要用于旧浏览器或者环境中将 "),a("font",{attrs:{color:"orange"}},[s._v("ES6 + 代码转换为向后兼容版本的JS")]),s._v("；")],1)]),s._v(" "),a("li",[a("p",[s._v("包括：语法转换、源代码转换等 ；")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("n")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("n")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("会在构建工具中通过配置babel来对其进行使用的")]),s._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"orange"}},[s._v("安装 babel 工具")])],1),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install babel-loader -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("font",{attrs:{color:"orange"}},[s._v("安装 preset-env 插件 ")])],1),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install @babel/preset-env\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("（配置方式 一 ） "),a("font",{attrs:{color:"orange"}},[s._v("在webpack.config.js 文件中配置")])],1),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("presets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@babel/preset-env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("（配置方式二）在"),a("font",{attrs:{color:"orange"}},[s._v("根目录下 创建 babel.config.js")])],1),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("presets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@babel/preset-env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])])])]),s._v(" "),a("h2",{attrs:{id:"处理-vue-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理-vue-文件"}},[s._v("#")]),s._v(" 处理 vue 文件")]),s._v(" "),a("p",[a("strong",[s._v("需要使用 vue - loader")])]),s._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install vue-loader -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[s._v("在"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("webpack 的 模块规则中进行配置 ")])],1),s._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\t\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.vue$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-loader"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("p",[s._v("打包依然会报错，这是因为我们"),a("font",{attrs:{color:"orange"}},[s._v("必须添加  "),a("strong",[s._v("@vue/compiler-sfc")]),s._v("  来对template进行解析")])],1),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install @vue/compiler-sfc -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("在webpack 中进行配置 vue插件 ")])],1),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" VueLoaderPlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-loader/dist/index"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \t\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("VueLoaderPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("重新打包 可 支持 App.vue 的写法文件了。")])]),s._v(" "),a("h2",{attrs:{id:"resolve-模块的解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolve-模块的解析"}},[s._v("#")]),s._v(" resolve 模块的解析")]),s._v(" "),a("p",[a("font",{attrs:{color:"cornflowerblue"}},[s._v("resolve  用于设置模块如何被解析的")])],1),s._v(" "),a("h3",{attrs:{id:"extensions-扩展名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-扩展名"}},[s._v("#")]),s._v(" extensions   扩展名")]),s._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("extensions 是解析到文件时自动添加扩展名")]),s._v(" "),a("ul",[a("li",[s._v("默认值是 "),a("font",{attrs:{color:"orange"}},[s._v(' [ ".wasm"，" .mjs "，".js"，".json" ]')]),s._v("；")],1),s._v(" "),a("li",[s._v("所以如果我们代码中想要添加加载 .vue 或者 jsx 或者 ts 等文件时，我们必须自己写上扩展名")])])],1)]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("extensions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".mjs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".jsx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".ts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置以上的文件 ，加载文件的时候，可以不写扩展名，会被自动添加 加载")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"alias-别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alias-别名"}},[s._v("#")]),s._v(" alias 别名")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("特别是当我们项目的目录结构比较深的时候，或者一个文件的路径可能需要 ../../../这种路径片段；")])]),s._v(" "),a("li",[a("p",[s._v("可以"),a("font",{attrs:{color:"orange"}},[s._v("给某些常见的路径起一个别名")])],1),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("extensions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".mjs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".jsx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".ts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("alias")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"@"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../.../../src"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"认识-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#认识-plugin"}},[s._v("#")]),s._v(" 认识 Plugin")]),s._v(" "),a("ul",[a("li",[s._v("Webpack的另一个核心是Plugin，官方有这样一段对Plugin的描述：\n"),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("Loader")]),s._v("是用于"),a("font",{attrs:{color:"orange"}},[s._v("特定的模块类型进行转换")]),s._v("；")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("Plugin")]),s._v("可以用于"),a("font",{attrs:{color:"orange"}},[s._v("执行更加广泛的任务")]),s._v("，比如"),a("font",{attrs:{color:"orange"}},[s._v("打包优化、资源管理、环境变量注入")]),s._v("等；")],1)])])]),s._v(" "),a("h3",{attrs:{id:"clean-webapck-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clean-webapck-plugin"}},[s._v("#")]),s._v(" Clean Webapck Plugin")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("前面我们演示的过程中，"),a("strong",[s._v("每次修改了一些配置，重新打包时，都需要"),a("font",{attrs:{color:"orange"}},[s._v("手动删除dist文件夹")]),s._v("：")],1)]),s._v(" "),a("ul",[a("li",[s._v("我们可以借助于一个插件来帮助我们完成，这个插件就是"),a("font",{attrs:{color:"orange"}},[s._v("CleanWebpackPlugin")]),s._v("；")],1)])]),s._v(" "),a("li",[a("p",[s._v("首先，我们先安装这个插件：")]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install clean-webpack-plugin -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" CleanWebpackPlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"clean-webpack-plugin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("p",[s._v("如果以上没有实现 ，新版本的用法")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("clean")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"htmlwebpackplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#htmlwebpackplugin"}},[s._v("#")]),s._v(" HtmlWebpackPlugin")]),s._v(" "),a("ul",[a("li",[s._v("我们的HTML文件是编写在根目录下的，而"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("最终打包的dist文件夹中是没有index.html文件")]),s._v("的")],1),s._v(" "),a("li",[s._v("在"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("进行项目部署")]),s._v("的时，必然也是需要"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("有对应的入口文件index.html")]),s._v("；")],1),s._v(" "),a("li",[s._v("所以我们也需要对"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("index.html进行打包处理")]),s._v("；")],1)]),s._v(" "),a("p",[s._v("对HTML进行打包处理我们可以使用另外一个插件："),a("font",{attrs:{color:"orange"}},[s._v("HtmlWebpackPlugin")]),s._v("；")],1),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install html-webpack-plugin -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("webpack.config.js文件中进行配置")])],1),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"html-webpack-plugin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"测试"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置页面的title")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tempalte")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./public/index.html"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置html页面的模板")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"define-plugin-的介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#define-plugin-的介绍"}},[s._v("#")]),s._v(" Define Plugin 的介绍")]),s._v(" "),a("p",[s._v("Define Plugin 允许 在"),a("font",{attrs:{color:"orange"}},[s._v("编译时创建配置全局常量")]),s._v("，是一个 "),a("font",{attrs:{color:"orange"}},[s._v("webpack 内置插件（不需要单独安装")]),s._v("）：")],1),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" DefinePlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DefinePlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BASE_URL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"./\"'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("这个时候，编译"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("template就可以正确的编译了")]),s._v("，会"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("读取到BASE_URL的值")]),s._v("；")],1)]),s._v(" "),a("h2",{attrs:{id:"mode-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode-配置"}},[s._v("#")]),s._v(" Mode 配置")]),s._v(" "),a("ul",[a("li",[s._v("Mode 配置选项，可以告知 webpack 使用相应模式的内置优化：\n"),a("ul",[a("li",[s._v("默认的值 是 "),a("font",{attrs:{color:"orange"}},[s._v("production ")]),s._v(" （什么都不设置的情况下）；")],1),s._v(" "),a("li",[s._v("可选值有 ："),a("font",{attrs:{color:"orange"}},[s._v('" none "  |  " development " |  " production "')])],1)])])]),s._v(" "),a("h2",{attrs:{id:"webpack-dev-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server"}},[s._v("#")]),s._v(" webpack - dev - server")]),s._v(" "),a("ul",[a("li",[s._v("希望 在不使用 vscode 的 live-server 的情况下 可以"),a("font",{attrs:{color:"orange"}},[s._v("具备 实时重新加载的功能")])],1)]),s._v(" "),a("p",[a("strong",[s._v("安装 webpack - dev - server")])]),s._v(" "),a("div",{staticClass:"language-xml-dtd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install webpack-dev-server -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改配置文件 ，启动时加上 serve 参数")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack serve"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("webpack-dev-server 在编译之后不会写入到任何输出文件，而是将 bundle 文件保留在内存中：\n"),a("ul",[a("li",[s._v("事实上webpack-dev-server使用了一个库叫memfs（memory-fs webpack自己写的）")])])])]),s._v(" "),a("h2",{attrs:{id:"hmr-热模块替换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hmr-热模块替换"}},[s._v("#")]),s._v(" HMR  热模块替换")]),s._v(" "),a("ul",[a("li",[s._v("什么是HMR呢？\n"),a("ul",[a("li",[s._v("HMR的全称是 Hot Module Replacement，翻译为模块热替换；")]),s._v(" "),a("li",[s._v("模块热替换是指在"),a("font",{attrs:{color:"orange"}},[s._v(" 应用程序运行过程中，替换、添加、删除模块，而无需重新刷新整个页面")]),s._v("；")],1)])]),s._v(" "),a("li",[s._v("HMR 通过如下几种方式 ，来提高开发的速度\n"),a("ul",[a("li",[a("font",{attrs:{color:"orange"}},[s._v("不重新加载整个页面，这样可以保留某些应用程序的状态不丢失")]),s._v("；")],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("只更新需要变化的内容，节省开发的时间；")])],1),s._v(" "),a("li",[a("font",{attrs:{color:"orange"}},[s._v("修改了css、js源代码，会立即在浏览器更新")]),s._v("，相当于直接在浏览器的devtools中直接修改样式；")],1)])]),s._v(" "),a("li",[s._v("如何使用HMR呢？\n"),a("ul",[a("li",[s._v("默认情况下，"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("webpack-dev-server已经支持HMR，我们只需要开启即")]),s._v("可（默认已经开启）；")],1),s._v(" "),a("li",[s._v("在不开启HMR的情况下，当我们修改了源代码之后，整个页面会自动刷新，使用的是live reloading；")])])])]),s._v(" "),a("p",[a("strong",[s._v("开启HMR")])]),s._v(" "),a("p",[s._v("修改 webpack 的配置")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("hot")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("可以 判断热 更新的模块，更新后 执行回调函数")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/util.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"util 模块 更新"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\t\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"如何区分开发环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何区分开发环境"}},[s._v("#")]),s._v(" 如何区分开发环境")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("目前我们所有的 webpack 配置信息"),a("font",{attrs:{color:"orange"}},[s._v("都是放到一个配置文件")]),s._v("中的："),a("font",{attrs:{color:"orange"}},[s._v("webpack.config.js")])],1),s._v(" "),a("ul",[a("li",[s._v("当配置越来越多时，这个文件会变得越来越不容易维护；")]),s._v(" "),a("li",[s._v("并且"),a("font",{attrs:{color:"orange"}},[s._v("某些配置是在开发环境需要使用")]),s._v("的，"),a("font",{attrs:{color:"orange"}},[s._v("某些配置是在生成环境需要使用")]),s._v("的，当然"),a("font",{attrs:{color:"orange"}},[s._v("某些配置是在开发和生成环境都会使用")]),s._v("的；")],1),s._v(" "),a("li",[s._v("所以 ，我们最好"),a("font",{attrs:{color:"orange"}},[s._v("对配置进行划分")]),s._v("，方便我们维护 和 管理 ；")],1)])]),s._v(" "),a("li",[a("p",[s._v("那么，在启动时如何可以区分不同的配置呢？")]),s._v(" "),a("ul",[a("li",[s._v("方案一：编写"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("两个不同的配置文件")]),s._v("，"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("开发和生成")]),s._v("时，"),a("font",{attrs:{color:"cornflowerblue"}},[s._v("分别加载不同的配置文件")]),s._v("即可；")],1),s._v(" "),a("li",[s._v("方案二：使用相同的一个入口配置文件，通过设置参数来区分它们")])])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --config ./config/webpack.prod.config.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"serve"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack serve --config ./config/webpack.dev.config.js"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("区分开发和生成环境配置")])]),s._v(" "),a("ul",[a("li",[s._v("这里创建三个文件\n"),a("ul",[a("li",[s._v("webpack.comm.conf.js")]),s._v(" "),a("li",[s._v("webpack.dev.conf.js")]),s._v(" "),a("li",[s._v("webpack.prod.conf.js")])])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" merge "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack-merage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" commonConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./webpack.comm.comfig"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这个时公共的环境配置文件")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 merage 可以将公共配置环境 和 其他环境的配置信息 连接在一起 ")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" commonConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开发环境的配置为文件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" development "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        hot："),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);