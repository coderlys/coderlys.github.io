<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL | 前端学习笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="./images/favicon.ico">
    <meta name="description" content="前端学习笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="./assets/css/0.styles.7b00b7c5.css" as="style"><link rel="preload" href="./assets/js/app.7ce36a75.js" as="script"><link rel="preload" href="./assets/js/3.f347c82f.js" as="script"><link rel="preload" href="./assets/js/1.d0ce8f0b.js" as="script"><link rel="preload" href="./assets/js/11.aa7936a1.js" as="script"><link rel="prefetch" href="./assets/js/10.f00be53f.js"><link rel="prefetch" href="./assets/js/12.ffac62be.js"><link rel="prefetch" href="./assets/js/13.6e2906c6.js"><link rel="prefetch" href="./assets/js/14.6dae06b6.js"><link rel="prefetch" href="./assets/js/15.d760b4da.js"><link rel="prefetch" href="./assets/js/16.ba02a69d.js"><link rel="prefetch" href="./assets/js/17.f0d94806.js"><link rel="prefetch" href="./assets/js/18.17f9c9a2.js"><link rel="prefetch" href="./assets/js/19.cfbf337b.js"><link rel="prefetch" href="./assets/js/20.5a65f603.js"><link rel="prefetch" href="./assets/js/21.d530a75c.js"><link rel="prefetch" href="./assets/js/22.a72e6160.js"><link rel="prefetch" href="./assets/js/23.defc9b97.js"><link rel="prefetch" href="./assets/js/24.20c083ab.js"><link rel="prefetch" href="./assets/js/25.9a446864.js"><link rel="prefetch" href="./assets/js/26.948bcfaf.js"><link rel="prefetch" href="./assets/js/27.6d6f57f1.js"><link rel="prefetch" href="./assets/js/28.df170cba.js"><link rel="prefetch" href="./assets/js/29.43ebbe91.js"><link rel="prefetch" href="./assets/js/4.21ef34d6.js"><link rel="prefetch" href="./assets/js/5.cb6e59aa.js"><link rel="prefetch" href="./assets/js/6.5ddc16d2.js"><link rel="prefetch" href="./assets/js/7.70ac515b.js"><link rel="prefetch" href="./assets/js/8.37e304ac.js"><link rel="prefetch" href="./assets/js/9.a482070f.js">
    <link rel="stylesheet" href="./assets/css/0.styles.7b00b7c5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>前端学习笔记</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>前端学习笔记</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><img src="./images/avatar.jpg" alt="前端学习笔记" class="logo"> <span class="site-name">前端学习笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      前端笔记
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/CS/" class="nav-link"><i class="iconfont reco-tag"></i>
  CS
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./tag/JS/" class="nav-link"><i class="iconfont reco-tag"></i>
  JS
</a></li><li class="dropdown-subitem"><a href="/./blogs/foreEnd/JQ/" class="nav-link"><i class="iconfont reco-tag"></i>
  JQ
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/VUE/2/" class="nav-link"><i class="iconfont reco-tag"></i>
  VUE2
</a></li><li class="dropdown-subitem"><a href="/./tag/vue3/" class="nav-link"><i class="iconfont reco-tag"></i>
  VUE3
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/Git/" class="nav-link"><i class="iconfont reco-tag"></i>
  Git
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/UI/ElementUI/" class="nav-link"><i class="iconfont reco-tag"></i>
  ElementUI
</a></li><li class="dropdown-subitem"><a href="/./blogs/foreEnd/UI/Vant/" class="nav-link"><i class="iconfont reco-tag"></i>
  Vant
</a></li><li class="dropdown-subitem"><a href="/./blogs/foreEnd/UI/Bootstrap/" class="nav-link"><i class="iconfont reco-tag"></i>
  Bootstrap
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      后端笔记
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/backEnd/node/" class="nav-link"><i class="iconfont reco-tag"></i>
  Node
</a></li><li class="dropdown-subitem"><a href="/./blogs/backEnd/node/koa/" class="nav-link"><i class="iconfont reco-tag"></i>
  Koa
</a></li><li class="dropdown-subitem"><a href="/./blogs/backEnd/node/express/" class="nav-link"><i class="iconfont reco-tag"></i>
  EXpress
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/backEnd/database/mysql/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="iconfont reco-tag"></i>
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/./timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>16</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>10</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      前端笔记
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/CS/" class="nav-link"><i class="iconfont reco-tag"></i>
  CS
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./tag/JS/" class="nav-link"><i class="iconfont reco-tag"></i>
  JS
</a></li><li class="dropdown-subitem"><a href="/./blogs/foreEnd/JQ/" class="nav-link"><i class="iconfont reco-tag"></i>
  JQ
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/VUE/2/" class="nav-link"><i class="iconfont reco-tag"></i>
  VUE2
</a></li><li class="dropdown-subitem"><a href="/./tag/vue3/" class="nav-link"><i class="iconfont reco-tag"></i>
  VUE3
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/Git/" class="nav-link"><i class="iconfont reco-tag"></i>
  Git
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/foreEnd/UI/ElementUI/" class="nav-link"><i class="iconfont reco-tag"></i>
  ElementUI
</a></li><li class="dropdown-subitem"><a href="/./blogs/foreEnd/UI/Vant/" class="nav-link"><i class="iconfont reco-tag"></i>
  Vant
</a></li><li class="dropdown-subitem"><a href="/./blogs/foreEnd/UI/Bootstrap/" class="nav-link"><i class="iconfont reco-tag"></i>
  Bootstrap
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      后端笔记
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/backEnd/node/" class="nav-link"><i class="iconfont reco-tag"></i>
  Node
</a></li><li class="dropdown-subitem"><a href="/./blogs/backEnd/node/koa/" class="nav-link"><i class="iconfont reco-tag"></i>
  Koa
</a></li><li class="dropdown-subitem"><a href="/./blogs/backEnd/node/express/" class="nav-link"><i class="iconfont reco-tag"></i>
  EXpress
</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/./blogs/backEnd/database/mysql/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="iconfont reco-tag"></i>
  MySQL
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/./timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>MySQL</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">MySQL</h1> <div data-v-f875f3fc><!----> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>3/17/2021</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>MySQL</span></i></div></div> <div class="theme-reco-content content__default"><h3 id="_1-1-认识mysql"><a href="#_1-1-认识mysql" class="header-anchor">#</a> 1.1：认识MySQL</h3> <p><strong>为什么需要数据库？</strong></p> <ul><li>任何的软件系统都需要存放大量的数据，这些数据通常是非常复杂和庞大的：
<ul><li>比如用户信息包括姓名、年龄、性别、地址、身份证号、出生日期等等；</li> <li>比如商品信息包括商品的名称、描述、价格（原价）、分类标签、商品图片等等；</li> <li>比如歌曲信息包括歌曲的名称、歌手、专辑、歌曲时长、歌词信息、封面图片等等；</li></ul></li> <li>那么这些信息不能直接存储到文件中吗？可以，但是文件系统有很多的缺点：
<ul><li>很难以合适的方式组织数据（多张表之前的关系合理组织）；</li> <li>并且对数据进行增删改查中的复杂操作（虽然一些简单确实可以），并且保证单操作的原子性；</li> <li>很难进行数据共享，比如一个数据库需要为多个程序服务，如何进行很好的数据共享；</li> <li>需要考虑如何进行数据的高效备份、迁移、恢复；</li></ul></li> <li>数据库通俗来讲就是一个存储数据的仓库，数据库本质上就是一个软件、一个程序。</li></ul> <p><strong>常见的数据库有那些？</strong></p> <ul><li>通常我们将数据划分成两类：关系型数据库和非关系型数据库；</li> <li>关系型数据库：MySQL、Oracle、DB2、SQL Server、Postgre SQL等；
<ul><li>关系型数据库通常我们会创建很多个二维数据表；</li> <li>数据表之间相互关联起来，形成一对一、一对多、多对对等关系；</li> <li>之后可以利用SQL语句在多张表中查询我们所需的数据；</li> <li>支持事务，对数据的访问更加的安全；</li></ul></li> <li>非关系型数据库：MongoDB、Redis、Memcached、HBse等；
<ul><li>非关系型数据库的英文其实是Not only SQL，也简称为NoSQL；</li> <li>相当而已非关系型数据库比较简单一些，存储数据也会更加自由（甚至我们可以直接将一个复杂的json对象直接塞入到数据库中）；</li> <li>NoSQL是基于Key-Value的对应关系，并且查询的过程中不需要经过SQL解析，所以性能更高；</li> <li>NoSQL通常不支持事物，需要在自己的程序中来保证一些原子性的操作；</li></ul></li> <li>如何在开发中选择他们呢？具体的选择会根据不同的项目进行综合的分析，我这里给一点点建议
<ul><li>目前在公司进行后端开发（Node、Java、Go等），还是以关系型数据库为主；</li> <li>比较常用的用到非关系型数据库的，在爬取大量的数据进行存储时，会比较常见；</li></ul></li></ul> <p><strong>MySQL的介绍</strong></p> <ul><li><p>MySQL原本是一个开源的数据库，原开发者为瑞典的MySQL AB公司</p></li> <li><p>在2008年被Sun公司收购；在2009年，Sun被Oracle收购</p></li> <li><p>所以目前MySQL归属于Oracle；</p></li> <li><p>MySQL是一个关系型数据库，其实本质上就是一款软件、一个程序</p> <ul><li>这个程序中管理着多个数据库；</li> <li>每个数据库中可以有多张表；</li> <li>每个表中可以有多条数据；</li></ul></li></ul> <h3 id="_1-2-下载mysql软件"><a href="#_1-2-下载mysql软件" class="header-anchor">#</a> 1.2：下载MySQL软件</h3> <ul><li>下载地址：https://dev.mysql.com/downloads/mysql</li> <li>根据自己的操作系统下载即可；</li> <li>推荐大家直接下载安装版本，在安装过程中会配置一些环境变量；
<ul><li>Windows推荐下载MSI的版本；</li> <li>Mac推荐下载DMG的版本；</li></ul></li> <li>这里我安装的是MySQL最新的版本：8.0.22（不再使用旧的MySQL5.x的版本）</li> <li>添加环境变量</li></ul> <h3 id="_1-3-my-sql的连接操作"><a href="#_1-3-my-sql的连接操作" class="header-anchor">#</a> 1.3：My SQL的连接操作</h3> <ul><li><p>打开cmd终端，查看MySQL的安装：mysql --version</p></li> <li><p>我们如果想要操作数据，需要先和数据建立一个连接，最直接的方式就是通过终端来连接；</p></li> <li><p>有两种方式来连接：</p> <ul><li><p>两种方式的区别在于输入密码是直接输入，还是另起一行以密文的形式输入；</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code># 方式一：
mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>pCoderwhy888<span class="token punctuation">.</span>
# 方式二：
mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
Enter password<span class="token operator">:</span> your password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li> <li><p>一个数据库软件中，可以包含很多个数据库，如何查看数据库?</p> <ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code>show databases<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>MySQL默认的数据库：</p> <ul><li>infomation_schema：信息数据库，其中包括MySQL在维护的其他数据库、表、 列、访问权限等信息；</li> <li>performance_schema：性能数据库，记录着MySQL Server数据库引擎在运行 过程中的一些资源消耗相关的信息；</li> <li>mysql：用于存储数据库管理者的用户信息、权限信息以及一些日志信息等；</li> <li>sys：相当于是一个简易版的performance_schema，将性能数据库中的数据汇 总成更容易理解的形式；</li></ul></li></ul> <h3 id="_1-4-认识sql语句"><a href="#_1-4-认识sql语句" class="header-anchor">#</a> 1.4：认识SQL语句</h3> <ul><li>我们希望操作数据库（特别是在程序中），就需要有和数据库沟通的语言，这个语言就是SQL：
<ul><li>SQL是Structured Query Language，称之为结构化查询语言，简称SQL；</li> <li>使用SQL编写出来的语句，就称之为SQL语句；</li> <li>SQL语句可以用于对数据库进行操作；</li></ul></li> <li>事实上，常见的关系型数据库SQL语句都是比较相似的，所以你学会了MySQL中的SQL语句，之后去操作比如
Oracle或者其他关系型数据库，也是非常方便的。</li> <li>SQL语句的常用规范：
<ul><li>通常关键字是大写的，比如CREATE、TABLE、SHOW等等；</li> <li>一条语句结束后，需要以 ; 结尾；</li> <li>如果遇到关键字作为表明或者字段名称，可以使用``包裹;</li></ul></li></ul> <h3 id="_1-5-sql语句的分类"><a href="#_1-5-sql语句的分类" class="header-anchor">#</a> 1.5：SQL语句的分类</h3> <ul><li>DDL（Data Definition Language）：数据定义语言；
<ul><li>可以通过DDL语句对数据库或者表进行：创建、删除、修改等操作；</li></ul></li> <li>DML（Data Manipulation Language）：数据操作语言；
<ul><li>可以通过DML语句对表进行：添加、删除、修改等操作；</li></ul></li> <li>DQL（Data Query Language）：数据查询语言；
<ul><li>可以通过DQL从数据库中查询记录；（重点）</li></ul></li> <li>DCL（Data Control Language）：数据控制语言；
<ul><li>对数据库、表格的权限进行相关访问控制操作；</li></ul></li></ul> <h3 id="_1-6-sql的数据类型"><a href="#_1-6-sql的数据类型" class="header-anchor">#</a> 1.6：SQL的数据类型</h3> <ul><li>MySQL支持的数据类型有：<font color="orange">数字类型，日期和时间类型，字符串（字符和字节）类型，空间类型和 JSON数据类型</font></li></ul> <h4 id="_1-6-1-数字类型"><a href="#_1-6-1-数字类型" class="header-anchor">#</a> 1.6.1：数字类型</h4> <ul><li><font color="orange">整数数字</font>类型：INTEGER，<font color="orange">INT</font>，SMALLINT，TINYINT，MEDIUMINT，BIGINT；</li> <li><img src="/images/MySQL/image-20210810105449503.png" alt="image-20210810105449503"></li> <li><font color="orange">浮点数字</font>类型：FLOAT，<font color="orange">DOUBLE</font>（FLOAT是4个字节，DOUBLE是8个字节）；</li> <li>精确数字类型：<font color="orange">DECIMAL</font>，NUMERIC（DECIMAL是NUMERIC的实现形式）；
<ul><li>例如 <font color="cornflowerblue">DECIMAL(10,2)  前面的数字表示长度，后面的数字表示点小数，位数</font></li></ul></li></ul> <h4 id="_1-6-2-日期类型"><a href="#_1-6-2-日期类型" class="header-anchor">#</a> 1.6.2：日期类型</h4> <ul><li><font color="orange">YEAR</font>  以  yyyy格式显示值
<ul><li><font color="cornflowerblue">只显示年份</font>， 范围1901到 2055 ，或者可以显示 0000</li></ul></li> <li><font color="orange">DATE </font> 类型用于具有日期部分但没有时间部分的值
<ul><li>DATE以<font color="cornflowerblue">格式YYYY-MM-DD显示值</font>；</li> <li>支持的范围是<code>1000-01-01</code>到 <code>9999-12-31</code></li></ul></li> <li><font color="orange">DATETIME</font> 类型用于包含日期和时间部分的值：
<ul><li>DATETIME以<font color="cornflowerblue">格式'YYYY-MM-DD hh:mm:ss'显示</font>值；</li> <li>支持的范围是<font color="orange">1000-01-01 00:00:00到9999-12-31 23:59:59</font>；</li></ul></li> <li><font color="red">TIMESTAMP </font>数据类型被用于同时包含日期和时间部分的值：
<ul><li>TIMESTAMP以<font color="cornflowerblue">格式'YYYY-MM-DD hh:mm:ss'显示</font>值；</li> <li>但是它的范围是<font color="orange">UTC的时间范围：'1970-01-01 00:00:01'到'2038-01-19 03:14:07</font></li></ul></li></ul> <ol><li>DATETIME或TIMESTAMP 值可以包括在高达微秒（6位）精度的后小数秒一部分</li> <li>比如DATETIME表示的范围可以是'1000-01-01 00:00:00.000000'到'9999-12-31 23:59:59.999999';</li></ol> <h4 id="_1-6-3-字符串类型"><a href="#_1-6-3-字符串类型" class="header-anchor">#</a> 1.6.3：字符串类型</h4> <ul><li><font color="orange">CHAR </font> 类型在创建表时为固定长度，<font color="cornflowerblue">长度可以是0到255之间的任何值</font>；
<ul><li>在<font color="cornflowerblue">被查询时，会删除后面的空格</font>；</li></ul></li> <li><font color="orange">VARCHAR</font>  类型的值是可变长度的字符串，<font color="cornflowerblue">长度可以指定为0到65535之间的值</font>；
<ul><li>在<font color="cornflowerblue">被查询时，不会删除后面的空格</font>；</li></ul></li> <li><font color="orange">BINARY和VARBINARY</font>  类型用于<font color="cornflowerblue">存储二进制字符串，存储的是字节字符串</font>；</li> <li><font color="orange">BLOB</font>  用于<font color="cornflowerblue">存储大的二进制类型</font>；</li> <li><font color="orange">TEXT</font>  用于<font color="cornflowerblue">存储大的字符串类型</font>；</li></ul> <h3 id="_1-7-表约束"><a href="#_1-7-表约束" class="header-anchor">#</a> 1.7：表约束</h3> <h4 id="_1-7-1-主键-primary-key"><a href="#_1-7-1-主键-primary-key" class="header-anchor">#</a> 1.7.1 ：主键 <font color="orange">PRIMARY KEY</font></h4> <ul><li>一张表中，我们为了区分<font color="cornflowerblue">每一条记录的唯一性</font>，必须有一个字段是永远不会重复，并且不会为空的，这个字段我们通常会将它设置为主键：
<ul><li><font color="cornflowerblue">主键是表中唯一的索引</font>；</li> <li>并且必须是<font color="cornflowerblue">NOT NULL的，如果没有设置 NOT NULL，那么MySQL也会隐式的设置为NOT NULL</font>；</li> <li>主键也可以是多列索引，PRIMARY KEY(key_part, ...)，我们一般称之为联合主键；</li> <li>建议：<font color="cornflowerblue">开发中主键字段应该是和业务无关的，尽量不要使用业务字段来作为主键</font>；</li></ul></li></ul> <h4 id="_1-7-2-唯一-unique"><a href="#_1-7-2-唯一-unique" class="header-anchor">#</a> 1.7.2：唯一：<font color="orange">UNIQUE</font></h4> <ul><li>某些字段在开发中我们<font color="cornflowerblue">希望是唯一的，不会重复的</font>，比如手机号码、身份证号码等，这个字段我们可以使用UNIQUE来约束：</li> <li>使用UNIQUE约束的字段在表中必须是不同的；</li> <li>对于所有引擎，UNIQUE 索引允许NULL包含的列具有多个值NULL。</li></ul> <h4 id="_1-7-3-不能为空-not-null"><a href="#_1-7-3-不能为空-not-null" class="header-anchor">#</a> 1.7.3：不能为空：<font color="orange">NOT NULL</font></h4> <ul><li>某些字段我们要求<font color="cornflowerblue">用户必须插入值，不可以为空</font>，这个时候我们可以使用 NOT NULL 来约束。</li></ul> <h4 id="_1-7-4-默认值-default"><a href="#_1-7-4-默认值-default" class="header-anchor">#</a> 1.7.4：默认值：<font color="orange">DEFAULT</font></h4> <ul><li>某些字段我们希望在没有设置值时<font color="cornflowerblue">给予一个默认值，这个时候我们可以使用 DEFAULT来完成</font>；</li></ul> <h4 id="_1-7-5-自动递增-auto-increment"><a href="#_1-7-5-自动递增-auto-increment" class="header-anchor">#</a> 1.7.5：自动递增：<font color="orange">AUTO_INCREMENT</font></h4> <ul><li>某些字段我们<font color="cornflowerblue">希望不设置值时可以进行递增，比如用户的id</font>，这个时候可以使用AUTO_INCREMENT来完成；</li></ul> <h3 id="_1-8-操作数据库sql语句"><a href="#_1-8-操作数据库sql语句" class="header-anchor">#</a> 1.8：操作数据库SQL语句</h3> <ul><li><p>查看所有的数据库</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>使用某一个数据库</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> coderhub
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>查看当前正在使用的数据库</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>创建数据数据库</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> bilibili<span class="token punctuation">;</span>  <span class="token comment">// (第一种)</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> bilibili <span class="token comment">//(第二种，当前没有这个数据库时候才进行创建)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>删除数据库</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> bilibili <span class="token comment">// (第一种)</span>
<span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exit</span> bilibili  <span class="token comment">//(第二种，先判断是否已经有当前的数据库)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>修改数据库</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">database</span> bilibili <span class="token keyword">character</span> <span class="token keyword">set</span> <span class="token operator">=</span> utf<span class="token operator">-</span><span class="token number">8</span> <span class="token keyword">collate</span> <span class="token operator">=</span> utf8_unicode_ci<span class="token punctuation">;</span> <span class="token punctuation">(</span>修改数据库字符集和排序规则<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ul> <h3 id="_1-9-操作数据表sql语句"><a href="#_1-9-操作数据表sql语句" class="header-anchor">#</a> 1.9：操作数据表SQL语句</h3> <ul><li><p>查看所有的数据表</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">tables</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>查看某一个表结构</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">desc</span> <span class="token keyword">user</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>创建数据表</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token keyword">user</span><span class="token punctuation">(</span>
	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    age <span class="token keyword">int</span><span class="token punctuation">,</span>
    height <span class="token keyword">double</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li> <li><p>创建一个完整的表</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token keyword">user</span> <span class="token punctuation">(</span>
		
		id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
	
	    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
		
		age <span class="token keyword">int</span><span class="token punctuation">,</span>
		
		tel <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
		
		creationTime <span class="token keyword">timestamp</span> <span class="token keyword">default</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
		
		modification <span class="token keyword">timestamp</span> <span class="token keyword">default</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
	
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ul></li> <li><p>删除一个表</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">user</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>修改表名</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>user6<span class="token punctuation">`</span></span> <span class="token keyword">rename</span> <span class="token keyword">to</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>添加一个新的列</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token keyword">add</span> <span class="token identifier"><span class="token punctuation">`</span>abc<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>删除一个列</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token keyword">drop</span> <span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>修改列的名称</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> change <span class="token identifier"><span class="token punctuation">`</span>time<span class="token punctuation">`</span></span> <span class="token keyword">time</span> <span class="token keyword">date</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>修改列的数据类型</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span>  <span class="token keyword">modify</span>  <span class="token identifier"><span class="token punctuation">`</span>time66<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>表中插入数据</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>time<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'abc1'</span><span class="token punctuation">,</span><span class="token string">'2021-08-10'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>删除符合条件表里的数据</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">11</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>删除表中所有的数据</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>希望创建数据的时候，直接插入创建的时间</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code>creationTime <span class="token keyword">timestamp</span> <span class="token keyword">default</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>希望修改的数据后，显示最新更新时间。没有更新的时候，显示创建的时间</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code>modification <span class="token keyword">timestamp</span> <span class="token keyword">default</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>查询所有的数据并且显示所有字段</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>查询 title、brand、price</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> title<span class="token punctuation">,</span> brand<span class="token punctuation">,</span> price<span class="token punctuation">,</span> <span class="token keyword">from</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>也可以给字段起别名，别名一般在多张表或者给客户端返回对应key时会使用到；</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> brand <span class="token keyword">as</span> b<span class="token punctuation">,</span> title <span class="token keyword">as</span> t<span class="token punctuation">,</span> price <span class="token keyword">as</span> p <span class="token keyword">from</span> products 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>where查询条件</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> price <span class="token operator">&lt;</span><span class="token number">1500</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand <span class="token operator">=</span><span class="token string">'苹果'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#查询品牌是苹果，并且小于3000元的手机</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> price<span class="token operator">&lt;</span><span class="token number">3000</span> <span class="token operator">and</span> brand<span class="token operator">=</span><span class="token string">'苹果'</span>

<span class="token comment"># 查询所有的华为手机或者价格小于1000的手机</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand<span class="token operator">=</span><span class="token string">'华为'</span> <span class="token operator">or</span> price<span class="token operator">&lt;</span><span class="token number">1000</span>

 <span class="token comment"># 查询1000到2000的手机（包含1000和2000）</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> price <span class="token operator">between</span> <span class="token number">1000</span> <span class="token operator">and</span> <span class="token number">2000</span>

<span class="token comment">#查看华为或者小米的手机</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'华为'</span><span class="token punctuation">,</span><span class="token string">'小米'</span><span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p><font color="orange">模糊查询使用like关键字</font>，结合两个特殊的符号：</p> <ul><li><font color="orange">%表示匹配任意个的任意字符</font>；</li> <li><font color="orange">_表示匹配一个任意的字符</font>；</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询所有以v开头的title</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> title <span class="token operator">like</span> <span class="token string">'v%'</span> 
<span class="token comment"># 查询带M的title</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> title <span class="token operator">like</span> <span class="token string">'%M%'</span>
<span class="token comment"># 查询带P的title必须是第三个字符</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> title <span class="token operator">like</span> <span class="token string">'_P%'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul></li> <li><p>查询结果排序</p> <ul><li><p>当我们查询到结果的时候，我们希望讲结果按照某种方式进行排序，这个时候使用的是<font color="orange">ORDER BY</font>；</p></li> <li><p><font color="orange">order by</font> 有两个常用的值；</p> <ul><li><font color="orange">asc</font>：升序排列</li> <li><font color="orange">desc</font>：降序排列</li></ul></li> <li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand <span class="token operator">=</span> <span class="token string">'华为'</span> <span class="token operator">or</span> price <span class="token operator">&lt;</span> <span class="token number">1000</span> <span class="token keyword">order</span> <span class="token keyword">by</span> price <span class="token keyword">asc</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand <span class="token operator">=</span> <span class="token string">'华为'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> score <span class="token keyword">desc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li> <li><p>分页查询</p> <ul><li><p>当数据库中的数据非常多时候，一次性查询到所有的结果进行显示是不太实现的；</p> <ul><li>在真实开发中，我们都会要求用户传入offset、limit、或者page等字段；</li> <li>它们的目的是让我们可以在数据库中进行分页查询；</li></ul></li> <li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">limit</span> <span class="token number">30</span> <span class="token keyword">offset</span> <span class="token number">0</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">limit</span> <span class="token number">30</span> <span class="token keyword">offset</span> <span class="token number">30</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">limit</span> <span class="token number">30</span> <span class="token keyword">offset</span> <span class="token number">60</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">30</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">limit</span> <span class="token number">30</span><span class="token punctuation">,</span><span class="token number">30</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">limit</span> <span class="token number">60</span><span class="token punctuation">,</span><span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul></li> <li><p>聚合函数</p> <ul><li><p>sum 聚合函数表示对值集合进行操作的组</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> products
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand<span class="token operator">=</span><span class="token string">'华为'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>avg 集合函数表示对值集合进行求平均数</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>  <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> products
<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand<span class="token operator">=</span><span class="token string">'华为'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>max 进行查找最高的分数</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> products
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>min 进行查找最低的分数</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> products
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>计算所有条目的数量</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> products
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> products <span class="token keyword">where</span> brand<span class="token operator">=</span><span class="token string">'华为'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li></ul></li> <li><p>认识Group By</p> <ul><li><p>事实上聚合函数相当于默认将所有数据分为一组：</p> <ul><li>我们前面使用avg还是max等，都是将所有的结果看成一组来计算的；</li> <li>那么如果我们希望划分多个组：比如华为、苹果、小米、等手机分别的平均价格</li> <li>这个时候我们可以使用Group By；</li></ul></li> <li><p>Group By 通常和聚合函数一起使用：</p> <ul><li><p>表示我们先对数据进行分组，再对每一组数据，进行聚合函数的计算；</p></li> <li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> brand<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> priceSum<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">as</span> priceAvg <span class="token keyword">from</span> products <span class="token keyword">group</span> <span class="token keyword">by</span> brand 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ul></li> <li><p>Group By 的约束</p> <ul><li><p>使用我们希望给Group By 查询到的结果添加一些约束，那么我们可以使用：having</p></li> <li><p>比如，如果我们还需要筛选出平均价格在4000以下,</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> brand<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> priceSum<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">as</span> priceAvg <span class="token keyword">from</span> products <span class="token keyword">group</span> <span class="token keyword">by</span> brand  <span class="token keyword">having</span> priceAvg<span class="token operator">&lt;</span><span class="token number">4000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ul></li> <li><p>创建外键</p> <ul><li><p>将两张表联系起来，我们可以将products中的brand_id关联到brand中的id：</p></li> <li><p>如果是创建表添加外键约束，我们需要在创建表的()最后添加如下语句；</p></li> <li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>brand_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> brand<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>如果是表已经创建好，额外添加外键：</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> products <span class="token keyword">add</span> brand_id <span class="token keyword">int</span>  <span class="token comment">// 先创建这一列</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span> <span class="token keyword">ADD</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>brand_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> brand<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>现在我们可以将products中的brand_id关联到brand中的id的值：</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> products <span class="token keyword">set</span> <span class="token identifier"><span class="token punctuation">`</span>brand_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">where</span> brand <span class="token operator">=</span> <span class="token string">'华为'</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> products <span class="token keyword">set</span> <span class="token identifier"><span class="token punctuation">`</span>brand_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">4</span> <span class="token keyword">where</span> brand <span class="token operator">=</span> <span class="token string">'oppo'</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> products <span class="token keyword">set</span> <span class="token identifier"><span class="token punctuation">`</span>brand_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">3</span> <span class="token keyword">where</span> brand <span class="token operator">=</span> <span class="token string">'苹果'</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> products <span class="token keyword">set</span> <span class="token identifier"><span class="token punctuation">`</span>brand_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">2</span> <span class="token keyword">where</span> brand <span class="token operator">=</span> <span class="token string">'小米'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li> <li><p>如何进行更新呢？</p> <ul><li>如果我希望可以更新呢？我们需要修改on delete或者on update的值；</li> <li>我们可以给更新或者删除时设置几个值：</li> <li><font color="orange">RESTRICT（默认属性）</font>：当更新或删除某个记录时，会检查该记录是否有关联的外键记录，<font color="cornflowerblue">有的话会报错的，不允许更新或删除</font>；</li> <li><font color="orange">NO ACTION</font>：和RESTRICT是一致的，是在SQL标准中定义的；</li> <li><font color="orange">CASCADE</font>：当更新或删除某个记录时，会检查该记录是否有关联的外键记录，有的话：
<font color="cornflowerblue">  更新：那么会更新对应的记录；</font> <font color="cornflowerblue">删除：那么关联的记录会被一起删除掉；</font></li> <li><font color="orange">SET NULL</font>：当更新或删除某个记录时，会检查该记录<font color="cornflowerblue">是否有关联的外键记录，有的话，将对应的值设置为 NULL</font>；</li></ul></li> <li><p>修改外键的更新的操作</p> <ul><li><p>第一步：查看表结构：
这个时候，我们可以知道外键的名称是products_ibfk_1。</p> <div class="language-SQL line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 执行命令</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>第二步：删除之前的外键</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 删除之前的外键</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span> <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> products_ibfk_1<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>第三步：添加新的外键，并且设置新的action</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span> <span class="token keyword">ADD</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>brand_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> brand<span class="token punctuation">(</span>id<span class="token punctuation">)</span>																					<span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">CASCADE</span>																		             <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">RESTRICT</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>多表查询</p> <ul><li><p>如果我们希望查询到产品的同时，<font color="cornflowerblue">显示对应的品牌相关的信息</font>，因为数据是存放在两张表中，所以这个时候就需要进行多表查询。</p></li> <li><p>如果我们直接通过查询语句希望在多张表中查询到数据，这个时候是什么效果呢？</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>brand<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>我们会发现一共有648条数据，这个数据量是如何得到的呢？</p> <ul><li>第一张表的108条 * 第二张表的6条数据；</li> <li>也就是说第一张表中每一个条数据，都会和第二张表中的每一条数据结合一次；</li> <li>这个结果我们称之为 <font color="red">笛卡尔乘积</font>，也称之为<font color="red">直积</font>，表示为 <font color="red">X*Y</font>；</li></ul></li> <li><p>使用where来进行筛选；</p></li> <li><p>这个表示查询到笛卡尔乘积后的结果中，符合products.brand_id = brand.id条件的数据过滤出来；</p> <ul><li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>brand<span class="token punctuation">`</span></span> <span class="token keyword">WHERE</span> <span class="token identifier"><span class="token punctuation">`</span>products<span class="token punctuation">`</span></span><span class="token punctuation">.</span>brand_id <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span>brand<span class="token punctuation">`</span></span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>多表之间的连接</p></li></ul></li> <li><p>事实上我们想要的效果并不是这样的，而且表中的某些特定的数据，这个时候我们可以使用<font color="orange"> SQL JOIN</font> 操作：</p></li></ul> <p>​                                                 <img src="/images/MySQL/image-20210813153846759.png" alt="image-20210813153846759"></p> <p>左连接</p> <ul><li><p>如果我们希望获取到时左边所有的数据（以左表为主）</p> <ul><li>这个时候表示无论左边的表是否有对应的brand_id的值对应右边表的id，左边的数据都会被查询出来的；</li> <li>这个也是开发中使用最多的情况，它的完整写法是LEFT [OUTER] JOIN，但是OUTER可以省略的；</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">left</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id <span class="token comment">## 显示有关联的数据																				   ## 显示没有关联的数据		</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">left</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id <span class="token keyword">where</span> brand<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <p>右连接</p> <ul><li><p>如果我们希望获取到的是右边所有的数据（以由表为主）</p> <ul><li>这个时候就表示无论左边的表中的brand_id是否有和右边表中的id对应，右边的数据都会被查询出来；</li> <li>右连接在开发中没有左连接常用，它的完整写法是RIGHT [OUTER] JOIN，但是OUTER可以省略的；</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">right</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id								
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">right</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id 
									<span class="token keyword">where</span> products<span class="token punctuation">.</span>brand_id <span class="token operator">is</span> <span class="token boolean">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <p>内连接</p> <ul><li><p>事实上连接是表示左边的表和右边的表都是对应的数据关联；</p> <ul><li>内连接在开发中偶尔也会常见使用，看自己的场景。</li> <li>内连接有其他的写法：cross join 或者 join 都可以；</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>我们会发现它和之前的下面写法是一样的效果；</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> prdoucts<span class="token punctuation">,</span>brand <span class="token keyword">where</span> prdoucts<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>但是他们代表的含义并不相同：</p> <ul><li>sql语句一：内连接，代表的是在两张表连接就会约束数据之间的关系，来决定之后查询的结果；</li> <li>sql语句二：where条件，代表是先计算笛卡尔乘积，在笛卡尔乘积的数据基础之上进行where条件的筛选</li></ul></li></ul> <p>全连接</p> <ul><li><p>sql规范中全连接是使用full join，但是mysql中并没有对它的支持，我们需要使用union来实现</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">left</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id
<span class="token keyword">union</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">right</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">left</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id <span class="token keyword">where</span> brand<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span>
<span class="token keyword">union</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> products <span class="token keyword">right</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id <span class="token keyword">where</span> products<span class="token punctuation">.</span>brand_id <span class="token operator">is</span> <span class="token boolean">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <p>多对对关系数据准备</p> <ul><li><p>在开发中我们还会遇到多对多的关系：</p> <ul><li>比如学生可以选择多门课程，一个课程可以被多个学生选择；</li> <li>这种情况我们应该在开发中如何处理呢？</li></ul></li> <li><p>先创建好两张表</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 创建学生表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>students<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    age <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 创建课程表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>courses<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    price <span class="token keyword">DOUBLE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 插入数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'why'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'lilei'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'lucy'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'lily'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'英语'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'语文'</span><span class="token punctuation">,</span> <span class="token number">666</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token number">888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'历史'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>创建关系表</p> <ul><li>我们需要一个关系表记录两张表中的数据关系</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>students_select_courses<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    student_id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    course_id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>student_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> students<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>course_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> courses<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>		
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>选课的一些信息数据</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># why 选修了 英文和数学</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students_select_courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>student_id<span class="token punctuation">,</span> course_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students_select_courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>student_id<span class="token punctuation">,</span> course_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># lilei选修了 语文和数学和历史</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students_select_courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>student_id<span class="token punctuation">,</span> course_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students_select_courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>student_id<span class="token punctuation">,</span> course_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>students_select_courses<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>student_id<span class="token punctuation">,</span> course_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>查询多对数据</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询所有的学生选择的所有课程</span>
 <span class="token keyword">select</span> students<span class="token punctuation">.</span>id <span class="token punctuation">,</span> students<span class="token punctuation">.</span>name <span class="token punctuation">,</span>students<span class="token punctuation">.</span>age <span class="token punctuation">,</span>courses<span class="token punctuation">.</span>name <span class="token keyword">from</span> students 
 
 <span class="token keyword">join</span> students_select_courses <span class="token keyword">as</span> ssc <span class="token keyword">on</span> students<span class="token punctuation">.</span>id<span class="token operator">=</span>ssc<span class="token punctuation">.</span>student_id 
 
 <span class="token keyword">join</span> courses <span class="token keyword">on</span> ssc<span class="token punctuation">.</span>course_id<span class="token operator">=</span>courses<span class="token punctuation">.</span>id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询所有的学生选课情况</span>
<span class="token keyword">select</span> students<span class="token punctuation">.</span>id<span class="token punctuation">,</span> students<span class="token punctuation">.</span>name<span class="token punctuation">,</span>students<span class="token punctuation">.</span>age<span class="token punctuation">,</span> courses<span class="token punctuation">.</span>name<span class="token punctuation">,</span> courses<span class="token punctuation">.</span>price  <span class="token keyword">from</span> students

<span class="token keyword">left</span> <span class="token keyword">join</span> students_select_courses <span class="token keyword">as</span> ssc <span class="token keyword">on</span> students<span class="token punctuation">.</span>id <span class="token operator">=</span> ssc<span class="token punctuation">.</span>student_id

<span class="token keyword">left</span> <span class="token keyword">join</span> courses <span class="token keyword">on</span> ssc<span class="token punctuation">.</span>course_id<span class="token operator">=</span>courses<span class="token punctuation">.</span>id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>查询单个学生课程</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># why同学选择了哪些课程</span>
<span class="token keyword">select</span> students<span class="token punctuation">.</span>id<span class="token punctuation">,</span> students<span class="token punctuation">.</span>name<span class="token punctuation">,</span>students<span class="token punctuation">.</span>age<span class="token punctuation">,</span> courses<span class="token punctuation">.</span>name<span class="token punctuation">,</span> courses<span class="token punctuation">.</span>price  <span class="token keyword">from</span> students

<span class="token keyword">left</span> <span class="token keyword">join</span> students_select_courses <span class="token keyword">as</span> ssc <span class="token keyword">on</span> students<span class="token punctuation">.</span>id <span class="token operator">=</span> ssc<span class="token punctuation">.</span>student_id

<span class="token keyword">left</span> <span class="token keyword">join</span> courses <span class="token keyword">on</span> ssc<span class="token punctuation">.</span>course_id<span class="token operator">=</span>courses<span class="token punctuation">.</span>id

<span class="token keyword">where</span> students<span class="token punctuation">.</span>id<span class="token operator">=</span><span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>查询那些学生没有选择和那些课程没有被选择</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#那些学生是没有选课的</span>
<span class="token keyword">select</span> students<span class="token punctuation">.</span>id<span class="token punctuation">,</span> students<span class="token punctuation">.</span>name<span class="token punctuation">,</span>students<span class="token punctuation">.</span>age<span class="token punctuation">,</span>  courses<span class="token punctuation">.</span>id<span class="token punctuation">,</span> courses<span class="token punctuation">.</span>name<span class="token punctuation">,</span> courses<span class="token punctuation">.</span>price  <span class="token keyword">from</span> students

<span class="token keyword">left</span> <span class="token keyword">join</span> students_select_courses <span class="token keyword">as</span> ssc <span class="token keyword">on</span> students<span class="token punctuation">.</span>id <span class="token operator">=</span> ssc<span class="token punctuation">.</span>student_id

<span class="token keyword">left</span> <span class="token keyword">join</span> courses <span class="token keyword">on</span> ssc<span class="token punctuation">.</span>course_id<span class="token operator">=</span>courses<span class="token punctuation">.</span>id

<span class="token keyword">where</span> courses<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#查询哪些课程没有被学生选择</span>
<span class="token keyword">select</span> <span class="token operator">*</span>  <span class="token keyword">from</span> students

<span class="token keyword">right</span> <span class="token keyword">join</span> students_select_courses <span class="token keyword">as</span> ssc <span class="token keyword">on</span> students<span class="token punctuation">.</span>id <span class="token operator">=</span> ssc<span class="token punctuation">.</span>student_id

<span class="token keyword">right</span> <span class="token keyword">join</span> courses <span class="token keyword">on</span> ssc<span class="token punctuation">.</span>course_id<span class="token operator">=</span> courses<span class="token punctuation">.</span>id

<span class="token keyword">where</span> ssc<span class="token punctuation">.</span>course_id <span class="token operator">is</span> <span class="token boolean">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul> <p>将brand转成对象</p> <ul><li><p>但是在真实开发中，部分应该<font color="cornflowerblue">放入到一个对象中</font>，那么我们可以使用下面的查询方式：</p> <ul><li><p>这个时候我们要用 <font color="orange">JSON_OBJECT</font>；</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> products<span class="token punctuation">.</span>id<span class="token punctuation">,</span>products<span class="token punctuation">.</span>title<span class="token punctuation">,</span>products<span class="token punctuation">.</span>price<span class="token punctuation">,</span>products<span class="token punctuation">.</span>score<span class="token punctuation">,</span> 
		
JSON_OBJECT<span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span>brand<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">,</span>brand<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">'rank'</span><span class="token punctuation">,</span>brand<span class="token punctuation">.</span>worldRank<span class="token punctuation">,</span><span class="token string">'website'</span><span class="token punctuation">,</span>brand<span class="token punctuation">.</span>website<span class="token punctuation">)</span> <span class="token keyword">as</span> brand

<span class="token keyword">from</span> products <span class="token keyword">left</span> <span class="token keyword">join</span> brand <span class="token keyword">on</span> products<span class="token punctuation">.</span>brand_id<span class="token operator">=</span>brand<span class="token punctuation">.</span>id 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token number">1</span>	华为nova <span class="token number">3</span>（全网通）	        <span class="token number">2699</span>	<span class="token number">6.7</span>	<span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;华为&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;rank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;website&quot;</span><span class="token operator">:</span> 													<span class="token string">&quot;www.huawei.com&quot;</span><span class="token punctuation">}</span>
<span class="token number">2</span>	华为P20 Pro（6GB RAM/全网通）	<span class="token number">4488</span>	<span class="token number">8.3</span>	<span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;华为&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;rank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;website&quot;</span><span class="token operator">:</span> 													<span class="token string">&quot;www.huawei.com&quot;</span><span class="token punctuation">}</span>
<span class="token number">3</span>	华为P20（全网通）	            <span class="token number">3388</span>	<span class="token number">8.4</span>	<span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;华为&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;rank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;website&quot;</span><span class="token operator">:</span> 													<span class="token string">&quot;www.huawei.com&quot;</span><span class="token punctuation">}</span>
<span class="token number">4</span>	华为nova 3i（4GB RAM/全网通）	<span class="token number">1999</span>	<span class="token number">7.0</span>	<span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;华为&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;rank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;website&quot;</span><span class="token operator">:</span> 													<span class="token string">&quot;www.huawei.com&quot;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li></ul> <p>多对多转成数组</p> <ul><li><p>在多对多关系中，我们希望查询到的是一个数组：</p> <ul><li>比如一个学生的多门课程信息，应该是放到一个数组中的；</li> <li>数组中存放的是课程信息的一个个对象；</li> <li>这个时候我们要 JSON_ARRAYAGG和JSON_OBJECT结合来使用；</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> students<span class="token punctuation">.</span>id<span class="token punctuation">,</span> students<span class="token punctuation">.</span>name<span class="token punctuation">,</span>students<span class="token punctuation">.</span>age<span class="token punctuation">,</span>

JSON_ARRAYAGG<span class="token punctuation">(</span>JSON_OBJECT<span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span>courses<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">,</span>courses<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">'price'</span><span class="token punctuation">,</span>courses<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> courses

<span class="token keyword">from</span> students  <span class="token keyword">left</span> <span class="token keyword">join</span> students_select_courses <span class="token keyword">as</span> ssc <span class="token keyword">on</span> students<span class="token punctuation">.</span>id<span class="token operator">=</span>ssc<span class="token punctuation">.</span>student_id
			
			  <span class="token keyword">left</span> <span class="token keyword">join</span> courses <span class="token keyword">on</span> ssc<span class="token punctuation">.</span>course_id<span class="token operator">=</span>courses<span class="token punctuation">.</span>id
												
			   ROUP <span class="token keyword">BY</span> students<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token number">1</span>	why	  <span class="token number">18</span>	<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;数学&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">888.0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;英语&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">100.0</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token number">2</span>	tom	  <span class="token number">22</span>	<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token number">3</span>	lilei <span class="token number">25</span>	<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;历史&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">80.0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;数学&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">888.0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                   <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;语文&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">666.0</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token number">4</span>	lucy  <span class="token number">16</span>	<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token number">5</span>	lily  <span class="token number">20</span>	<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">]</span>		
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-1-认识mysql" class="sidebar-link reco-side-_1-1-认识mysql" data-v-cb1513f6>1.1：认识MySQL</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-2-下载mysql软件" class="sidebar-link reco-side-_1-2-下载mysql软件" data-v-cb1513f6>1.2：下载MySQL软件</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-3-my-sql的连接操作" class="sidebar-link reco-side-_1-3-my-sql的连接操作" data-v-cb1513f6>1.3：My SQL的连接操作</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-4-认识sql语句" class="sidebar-link reco-side-_1-4-认识sql语句" data-v-cb1513f6>1.4：认识SQL语句</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-5-sql语句的分类" class="sidebar-link reco-side-_1-5-sql语句的分类" data-v-cb1513f6>1.5：SQL语句的分类</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-6-sql的数据类型" class="sidebar-link reco-side-_1-6-sql的数据类型" data-v-cb1513f6>1.6：SQL的数据类型</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-7-表约束" class="sidebar-link reco-side-_1-7-表约束" data-v-cb1513f6>1.7：表约束</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-8-操作数据库sql语句" class="sidebar-link reco-side-_1-8-操作数据库sql语句" data-v-cb1513f6>1.8：操作数据库SQL语句</a></li><li class="level-3" data-v-cb1513f6><a href="/./blogs/backEnd/database/mysql/#_1-9-操作数据表sql语句" class="sidebar-link reco-side-_1-9-操作数据表sql语句" data-v-cb1513f6>1.9：操作数据表SQL语句</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="./assets/js/app.7ce36a75.js" defer></script><script src="./assets/js/3.f347c82f.js" defer></script><script src="./assets/js/1.d0ce8f0b.js" defer></script><script src="./assets/js/11.aa7936a1.js" defer></script>
  </body>
</html>
